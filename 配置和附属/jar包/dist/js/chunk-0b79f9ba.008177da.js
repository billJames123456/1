(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b79f9ba"],{1904:function(e,t,i){},"7c85":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"v-main"}},[t("div",{attrs:{id:"v-title"}},[e._v("图片类型数据可视化")]),t("div",{attrs:{id:"v-echart"}},[t("div",{attrs:{id:"echart"}}),t("div",{staticClass:"button"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.downloadImage()}}},[e._v("下载图表")])],1)])])},s=[],r=(i("14d9"),{name:"Visualdata",data(){return{charts:null,token:"",resizeTimer:null,serveUrL:this.$serveUrL,screenWidth:"",ImageType:[{value:100,name:"动物"},{value:11,name:"植物"}]}},mounted(){window.onresize=()=>{this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.charts.resize()},500)};var e=this.$cookie.getCookie();"token"!=e[0]?(this.$message({message:"登录已过期!",type:"error"}),this.$router.push({name:"login"})):this.token=e[1],this.selectImageCount()},methods:{downloadImage(){const e=document.createElement("a");e.download="图片类型分布饼图",e.style.display="none",console.log(this.charts),e.href=this.charts.getDataURL({type:"png",pixelRatio:1.5,backgroundColor:"#fff"}),document.body.appendChild(e),e.click(),URL.revokeObjectURL(e.href),document.body.removeChild(e)},selectImageCount(){var e=this;const t=new FormData;t.append("token",this.token),this.axios({url:e.serveUrL+"/visual/selectTypeSite",method:"post",data:t}).then((function(t){e.ImageType=t.data.data.imageType,e.$nextTick((function(){e.drawPie("echart")}))}))},drawPie(e){this.charts=this.$echarts.init(document.getElementById(e)),this.charts.setOption({title:{color:"res",text:"图片类型分布饼图",subtext:"来源数据库",left:"50%"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"数据来源",type:"pie",radius:"60%",data:this.ImageType,left:"20%",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}}),o=r,n=(i("cae9"),i("2877")),c=Object(n["a"])(o,a,s,!1,null,"9345a612",null);t["default"]=c.exports},cae9:function(e,t,i){"use strict";i("1904")}}]);
//# sourceMappingURL=chunk-0b79f9ba.008177da.js.map