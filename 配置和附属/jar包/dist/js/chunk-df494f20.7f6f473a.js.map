{"version":3,"sources":["webpack:///./src/views/AIupload.vue","webpack:///src/views/AIupload.vue","webpack:///./src/views/AIupload.vue?a9be","webpack:///./src/views/AIupload.vue?05d9","webpack:///./src/views/AIupload.vue?bb77"],"names":["render","_vm","this","_c","_self","staticClass","_m","ref","attrs","formdata","model","value","selectModel","callback","$$v","expression","_l","albums","item","index","key","albumName","_v","_s","staticStyle","inputAlbum","on","createAlbum","slot","resNumber","$set","label","imgSite","imgdate","handlePictureCardPreview","handleRemove","handleChange","fileList","dialogVisible","$event","dialogImageUrl","SubmitImage","dialogTableVisible","progressText","directives","name","rawName","loading","tableData","count","staticRenderFns","data","token","album","albumId","img","res1","res2","res3","res4","res5","computed","get","set","albumIndex","created","mounted","cookie","$cookie","getCookie","$message","message","type","$router","push","selectAlbums","methods","_this","formData","FormData","append","axios","url","$serveUrL","method","then","resp","status","console","log","$refs","upload","length","warning","forEach","file","raw","headers","onUploadProgress","progressEvent","lengthComputable","progressPercent","parseInt","loaded","total","formSelect","blur","component"],"mappings":"gJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIK,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,UAAU,CAACI,IAAI,WAAWC,MAAM,CAAC,MAAQP,EAAIQ,WAAW,CAACN,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,SAAS,CAACL,EAAG,YAAY,CAACI,IAAI,aAAaF,YAAY,WAAWG,MAAM,CAAC,YAAc,cAAcE,MAAM,CAACC,MAAOV,EAAIW,YAAaC,SAAS,SAAUC,GAAMb,EAAIW,YAAYE,GAAKC,WAAW,gBAAgB,CAACd,EAAIe,GAAIf,EAAIgB,QAAQ,SAASC,EAAKC,GAAO,OAAOhB,EAAG,YAAY,CAACiB,IAAID,EAAMX,MAAM,CAAC,MAAQU,EAAKG,UAAU,MAAQF,IAAQ,CAAChB,EAAG,OAAO,CAACF,EAAIqB,GAAGrB,EAAIsB,GAAGL,EAAKG,mBAAkBlB,EAAG,WAAW,CAACqB,YAAY,CAAC,cAAc,KAAK,MAAQ,OAAOhB,MAAM,CAAC,YAAc,UAAU,KAAO,SAASE,MAAM,CAACC,MAAOV,EAAIwB,WAAYZ,SAAS,SAAUC,GAAMb,EAAIwB,WAAWX,GAAKC,WAAW,gBAAgBZ,EAAG,IAAI,CAACE,YAAY,eAAemB,YAAY,CAAC,cAAc,MAAM,MAAQ,UAAU,cAAc,MAAM,YAAY,UAAUE,GAAG,CAAC,MAAQzB,EAAI0B,eAAexB,EAAG,MAAM,CAACqB,YAAY,CAAC,OAAS,eAAehB,MAAM,CAAC,KAAO,SAASoB,KAAK,SAAS,CAACzB,EAAG,WAAW,CAACqB,YAAY,CAAC,cAAc,KAAK,MAAQ,OAAOhB,MAAM,CAAC,YAAc,UAAU,KAAO,SAASE,MAAM,CAACC,MAAOV,EAAIwB,WAAYZ,SAAS,SAAUC,GAAMb,EAAIwB,WAAWX,GAAKC,WAAW,gBAAgBZ,EAAG,IAAI,CAACE,YAAY,eAAemB,YAAY,CAAC,cAAc,MAAM,MAAQ,UAAU,cAAc,MAAM,YAAY,UAAUE,GAAG,CAAC,MAAQzB,EAAI0B,gBAAgB,IAAI,IAAI,GAAGxB,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,SAAS,CAACL,EAAG,YAAY,CAACE,YAAY,WAAWG,MAAM,CAAC,YAAc,aAAaE,MAAM,CAACC,MAAOV,EAAIQ,SAASoB,UAAWhB,SAAS,SAAUC,GAAMb,EAAI6B,KAAK7B,EAAIQ,SAAU,YAAaK,IAAMC,WAAW,uBAAuBd,EAAIe,GAAIf,EAAI4B,WAAW,SAASX,GAAM,OAAOf,EAAG,YAAY,CAACiB,IAAIF,EAAKP,MAAMH,MAAM,CAAC,MAAQU,EAAKa,MAAM,MAAQb,EAAKP,YAAW,IAAI,GAAGR,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,SAAS,CAACL,EAAG,WAAW,CAACE,YAAY,WAAWK,MAAM,CAACC,MAAOV,EAAIQ,SAASuB,QAASnB,SAAS,SAAUC,GAAMb,EAAI6B,KAAK7B,EAAIQ,SAAU,UAAWK,IAAMC,WAAW,uBAAuB,GAAGZ,EAAG,eAAe,CAACK,MAAM,CAAC,MAAQ,SAAS,CAACL,EAAG,SAAS,CAACE,YAAY,WAAWG,MAAM,CAAC,KAAO,KAAK,CAACL,EAAG,iBAAiB,CAACqB,YAAY,CAAC,MAAQ,QAAQhB,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,eAAe,cAAcE,MAAM,CAACC,MAAOV,EAAIQ,SAASwB,QAASpB,SAAS,SAAUC,GAAMb,EAAI6B,KAAK7B,EAAIQ,SAAU,UAAWK,IAAMC,WAAW,uBAAuB,IAAI,IAAI,IAAI,GAAGZ,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,YAAY,CAACI,IAAI,SAASC,MAAM,CAAC,OAAS,IAAI,YAAY,eAAe,aAAaP,EAAIiC,yBAAyB,YAAYjC,EAAIkC,aAAa,YAAYlC,EAAImC,aAAa,eAAc,EAAM,UAAW,EAAK,YAAYnC,EAAIoC,WAAW,CAAClC,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACF,EAAG,OAAO,CAACqB,YAAY,CAAC,YAAY,OAAO,iBAAiB,QAAQ,CAACvB,EAAIqB,GAAG,cAAcnB,EAAG,YAAY,CAACK,MAAM,CAAC,QAAUP,EAAIqC,eAAeZ,GAAG,CAAC,iBAAiB,SAASa,GAAQtC,EAAIqC,cAAcC,KAAU,CAACpC,EAAG,MAAM,CAACK,MAAM,CAAC,MAAQ,OAAO,IAAMP,EAAIuC,eAAe,IAAM,SAAS,GAAGrC,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,WAAWkB,GAAG,CAAC,MAAQzB,EAAIwC,cAAc,CAACxC,EAAIqB,GAAG,UAAUnB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,UAAUkB,GAAG,CAAC,MAAQ,SAASa,GAAQtC,EAAIyC,mBAAqB,OAAQzC,EAAI0C,aAAe,WAAW,CAAC1C,EAAIqB,GAAG,WAAW,IAAI,OAAOnB,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQ,OAAO,QAAUP,EAAIyC,oBAAoBhB,GAAG,CAAC,iBAAiB,SAASa,GAAQtC,EAAIyC,mBAAmBH,KAAU,CAACpC,EAAG,WAAW,CAACyC,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYnC,MAAOV,EAAI8C,QAAShC,WAAW,YAAYP,MAAM,CAAC,KAAOP,EAAI+C,UAAU,KAAM,EAAK,OAAS,MAAM,uBAAuB/C,EAAI0C,eAAe,CAACxC,EAAG,kBAAkB,CAACK,MAAM,CAAC,KAAO,MAAM,MAAQ,QAAQP,EAAIe,GAAIf,EAAIQ,SAASoB,WAAW,SAASoB,GAAO,OAAO9C,EAAG,kBAAkB,CAACiB,IAAI6B,EAAMzC,MAAM,CAAC,KAAO,MAAQyC,EAAM,MAAQ,KAAOA,SAAY,IAAI,IAAI,MAE/6HC,EAAkB,CAAC,WAAY,IAAIjD,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACK,MAAM,CAAC,GAAK,UAAU,CAACL,EAAG,KAAK,CAACF,EAAIqB,GAAG,kBCuFzG,G,UAAA,CACf6B,OACA,OACAC,MAAA,GACAnC,OAAA,GAEAQ,WAAA,GACAhB,SAAA,CACA4C,MAAA,CACAC,QAAA,KACAjC,UAAA,IAEAW,QAAA,GACAH,UAAA,GACAI,QAAA,IAGAJ,UAAA,CACA,CACAlB,MAAA,EACAoB,MAAA,MAEA,CACApB,MAAA,EACAoB,MAAA,MAEA,CACApB,MAAA,EACAoB,MAAA,MAEA,CACApB,MAAA,EACAoB,MAAA,MAEA,CACApB,MAAA,EACAoB,MAAA,OAIAM,SAAA,GACAG,eAAA,GACAF,eAAA,EACAU,UAAA,EACAO,IAAA,GACAC,KAAA,GACAC,KAAA,GACAC,KAAA,GACAC,KAAA,GACAC,KAAA,KAGAjB,aAAA,YACAI,SAAA,EACAL,oBAAA,IAIAmB,SAAA,CACAjD,YAAA,CACAkD,MACA,YAAArD,SAAA4C,MAAAhC,WAEA0C,IAAAC,GACA,KAAAvD,SAAA4C,MAAAC,QAAA,KAAArC,OAAA+C,GAAAV,QACA,KAAA7C,SAAA4C,MAAAhC,UAAA,KAAAJ,OAAA+C,GAAA3C,aAIA4C,YAEAC,UACA,IAAAC,EAAA,KAAAC,QAAAC,YACA,SAAAF,EAAA,IACA,KAAAG,SAAA,CACAC,QAAA,SACAC,KAAA,UAEA,KAAAC,QAAAC,KAAA,CAAA7B,KAAA,WAGA,KAAAO,MAAAe,EAAA,GAEA,KAAAQ,gBAEAC,QAAA,CACAD,eACA,IAAAE,EAAA,KACA,MAAAC,EAAA,IAAAC,SACAD,EAAAE,OAAA,aAAA5B,OACA,KAAA6B,MAAA,CACAC,IAAA,KAAAC,UAAA,yBACAC,OAAA,OACAjC,KAAA2B,IACAO,MAAA,SAAAC,GACA,WAAAA,EAAAnC,KAAAoC,SACAC,QAAAC,IAAAH,EAAAnC,MACA0B,EAAA5D,OAAAqE,EAAAnC,eAOAV,cAEA,GADA+C,QAAAC,IAAA,KAAAC,MAAAC,OAAAtD,UACA,QAAAA,SAAAuD,OACA,YAAAtB,SAAAuB,QAAA,aAGA,KAAAnD,oBAAA,EACA,IAAAmC,EAAA,KAEAC,EAAA,IAAAC,SAGA,KAAA1C,SAAAyD,QAAAC,IACAjB,EAAAE,OAAA,OAAAe,EAAAC,OAGAlB,EAAAE,OAAA,eAAAvE,SAAA4C,MAAAC,SACAwB,EAAAE,OAAA,iBAAAvE,SAAA4C,MAAAhC,WACAyD,EAAAE,OAAA,iBAAAvE,SAAAoB,WACAiD,EAAAE,OAAA,eAAAvE,SAAAuB,SACA8C,EAAAE,OAAA,eAAAvE,SAAAwB,SACA6C,EAAAE,OAAA,aAAA5B,OACA,KAAAL,SAAA,EACA,KAAAkC,MAAA,CACAC,IAAA,KAAAC,UAAA,kBACAC,OAAA,OACAjC,KAAA2B,EACAmB,QAAA,uCACAC,iBAAA,SAAAC,GACA,GAAAA,EAAAC,iBAAA,CACA,IAAAC,EAAAC,SAAAH,EAAAI,OAAAJ,EAAAK,MAAA,KACAH,GAAA,KACAA,EAAA,IAEAxB,EAAAlC,aAAA,aAAA0D,EAAA,QAGAhB,MAAA,SAAAC,GACA,WAAAA,EAAAnC,KAAAoC,QACAV,EAAAP,SAAA,CACAE,KAAA,UACAD,QAAA,YAEAM,EAAA7B,UAAAsC,EAAAnC,UACA0B,EAAA9B,SAAA,GAGA8B,EAAAP,SAAA,CACAE,KAAA,OACAD,QAAA,gBAKA5C,cAEA,KAAAlB,SAAA4C,MAAAhC,UAAA,KAAAI,WAEA,KAAAhB,SAAA4C,MAAAC,QAAA,EAEA,KAAAoC,MAAAe,WAAAC,QAEAvE,aAAA4D,EAAA1D,GACA,KAAAA,WACAmD,QAAAC,IAAAM,EAAA1D,IAEAD,aAAA2D,EAAA1D,GACA,KAAAA,YAGAH,yBAAA6D,GACA,KAAAvD,eAAAuD,EAAAb,IACA,KAAA5C,eAAA,MCzQiV,I,wBCQ7UqE,EAAY,eACd,EACA3G,EACAkD,GACA,EACA,KACA,WACA,MAIa,aAAAyD,E,2CCnBf","file":"js/chunk-df494f20.7f6f473a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_vm._m(0),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"formdata\",attrs:{\"model\":_vm.formdata}},[_c('el-form-item',{attrs:{\"label\":\"上传相册\"}},[_c('el-select',{ref:\"formSelect\",staticClass:\"formItem\",attrs:{\"placeholder\":\"不创建相册，可不选择\"},model:{value:(_vm.selectModel),callback:function ($$v) {_vm.selectModel=$$v},expression:\"selectModel\"}},[_vm._l((_vm.albums),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.albumName,\"value\":index}},[_c('span',[_vm._v(_vm._s(item.albumName))])])}),_c('el-input',{staticStyle:{\"margin-left\":\"3%\",\"width\":\"70%\"},attrs:{\"placeholder\":\"没有请创建相册\",\"size\":\"small\"},model:{value:(_vm.inputAlbum),callback:function ($$v) {_vm.inputAlbum=$$v},expression:\"inputAlbum\"}}),_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-left\":\"10%\",\"color\":\"#5cb6ff\",\"font-weight\":\"800\",\"font-size\":\"1.25em\"},on:{\"click\":_vm.createAlbum}}),_c('div',{staticStyle:{\"margin\":\"5px 0 5px 0\"},attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_c('el-input',{staticStyle:{\"margin-left\":\"3%\",\"width\":\"70%\"},attrs:{\"placeholder\":\"没有请创建相册\",\"size\":\"small\"},model:{value:(_vm.inputAlbum),callback:function ($$v) {_vm.inputAlbum=$$v},expression:\"inputAlbum\"}}),_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-left\":\"10%\",\"color\":\"#5cb6ff\",\"font-weight\":\"800\",\"font-size\":\"1.25em\"},on:{\"click\":_vm.createAlbum}})],1)],2)],1),_c('el-form-item',{attrs:{\"label\":\"识别结果\"}},[_c('el-select',{staticClass:\"formItem\",attrs:{\"placeholder\":\"请选择识别结果数量\"},model:{value:(_vm.formdata.resNumber),callback:function ($$v) {_vm.$set(_vm.formdata, \"resNumber\", $$v)},expression:\"formdata.resNumber\"}},_vm._l((_vm.resNumber),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"拍摄地点\"}},[_c('el-input',{staticClass:\"formItem\",model:{value:(_vm.formdata.imgSite),callback:function ($$v) {_vm.$set(_vm.formdata, \"imgSite\", $$v)},expression:\"formdata.imgSite\"}})],1),_c('el-form-item',{attrs:{\"label\":\"拍摄日期\"}},[_c('el-col',{staticClass:\"formItem\",attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.formdata.imgdate),callback:function ($$v) {_vm.$set(_vm.formdata, \"imgdate\", $$v)},expression:\"formdata.imgdate\"}})],1)],1)],1)],1),_c('div',{staticClass:\"images\"},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"#\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"on-change\":_vm.handleChange,\"auto-upload\":false,\"multiple\":true,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-plus\"},[_c('span',{staticStyle:{\"font-size\":\"20px\",\"vertical-align\":\"1px\"}},[_vm._v(\"选择图片\")])])]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"u-button-main\"},[_c('div',{staticClass:\"u-button\"},[_c('div',{staticClass:\"u-button-son1\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.SubmitImage}},[_vm._v(\"全部上传\")]),_c('div',{staticClass:\"u-button-son2\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){_vm.dialogTableVisible = 'true'; _vm.progressText = '未上传图片'}}},[_vm._v(\"查看结果\")])],1)],1)])]),_c('el-dialog',{attrs:{\"title\":\"识别结果\",\"visible\":_vm.dialogTableVisible},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"fit\":true,\"height\":\"480\",\"element-loading-text\":_vm.progressText}},[_c('el-table-column',{attrs:{\"prop\":\"img\",\"label\":\"图片\"}}),_vm._l((_vm.formdata.resNumber),function(count){return _c('el-table-column',{key:count,attrs:{\"prop\":'res' + count,\"label\":'结果' + count}})})],2)],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"title\"}},[_c('h1',[_vm._v(\"AI智能识别上传\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main\">\n    <div id=\"title\">\n      <h1>AI智能识别上传</h1>\n    </div>\n    <div class=\"main-content\">\n      <div class=\"form\">\n        <el-form :model=\"formdata\" ref=\"formdata\">\n          <el-form-item label=\"上传相册\">\n            <el-select v-model=\"selectModel\" placeholder=\"不创建相册，可不选择\" ref=\"formSelect\" class=\"formItem\">\n              <el-option v-for=\"(item, index) in albums\" :key=\"index\" :label=\"item.albumName\" :value=\"index\">\n                <span>{{ item.albumName }}</span>\n              </el-option>\n              <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\" size=\"small\">\n              </el-input>\n              <i class=\"el-icon-plus\" @click=\"createAlbum\"\n                style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\n              <div slot=\"empty\" style=\"margin:5px 0 5px 0\">\n                <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\" size=\"small\">\n                </el-input>\n                <i class=\"el-icon-plus\" @click=\"createAlbum\"\n                  style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\n              </div>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"识别结果\">\n            <el-select v-model=\"formdata.resNumber\" placeholder=\"请选择识别结果数量\" class=\"formItem\">\n              <el-option v-for=\"item in resNumber\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"拍摄地点\">\n            <el-input v-model=\"formdata.imgSite\" class=\"formItem\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"拍摄日期\">\n            <el-col :span=\"11\" class=\"formItem\">\n              <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"formdata.imgdate\" style=\"width:100%\"\n                value-format=\"yyyy-MM-dd\">\n              </el-date-picker>\n            </el-col>\n          </el-form-item>\n\n        </el-form>\n      </div>\n      <div class=\"images\">\n\n        <el-upload action=\"#\" ref=\"upload\" list-type=\"picture-card\" :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\" :on-change=\"handleChange\" :auto-upload=\"false\" :multiple=\"true\"\n          :file-list=\"fileList\">\n          <i class=\"el-icon-plus\">\n            <span style=\"font-size:20px;  vertical-align:1px;\">选择图片</span>\n          </i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n        </el-dialog>\n      </div>\n\n      <div class=\"u-button-main\">\n        <div class=\"u-button\">\n          <div class=\"u-button-son1\">\n            <el-button type=\"primary\" @click=\"SubmitImage\">全部上传</el-button>\n            <div class=\"u-button-son2\">\n              <el-button type=\"danger\" @click=\"dialogTableVisible = 'true'; progressText = '未上传图片'\">查看结果</el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n\n      <el-dialog title=\"识别结果\" :visible.sync=\"dialogTableVisible\">\n        <el-table :data=\"tableData\" :fit=\"true\" height=\"480\" v-loading=\"loading\" :element-loading-text=\"progressText\">\n          <el-table-column prop=\"img\" label=\"图片\">\n          </el-table-column>\n          <el-table-column :prop=\"'res' + count\" :label=\"'结果' + count\" v-for=\"count in formdata.resNumber\" :key=\"count\">\n          </el-table-column>\n        </el-table>\n      </el-dialog>\n    </div>\n\n\n\n  </div>\n\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      token: '',\n      albums: [\n      ],\n      inputAlbum: '',\n      formdata: {\n        album: {\n          albumId: '-1',\n          albumName: ''\n        },//相册名字\n        imgSite: '',//拍摄地点\n        resNumber: '',//照片类型\n        imgdate: '',//拍摄时间\n      },\n      // 识别数量\n      resNumber: [\n        {\n          value: 1,\n          label: '1个'\n        },\n        {\n          value: 2,\n          label: '2个'\n        },\n        {\n          value: 3,\n          label: '3个'\n        },\n        {\n          value: 4,\n          label: '4个'\n        },\n        {\n          value: 5,\n          label: '5个'\n        },\n      ],\n\n      fileList: [],//图片列表\n      dialogImageUrl: '',\n      dialogVisible: false,\n      tableData: [{\n        img: '',\n        res1: '',\n        res2: '',\n        res3: '',\n        res4: '',\n        res5: '',\n      },\n      ],\n      progressText: \"服务器开始识别分析\",\n      loading: true,\n      dialogTableVisible: false,//识别结果表\n    }\n  },\n  // 计算属性\n  computed: {\n    selectModel: {\n      get() {\n        return this.formdata.album.albumName;\n      },\n      set(albumIndex) {\n        this.formdata.album.albumId = this.albums[albumIndex].albumId;\n        this.formdata.album.albumName = this.albums[albumIndex].albumName\n      }\n    }\n  },\n  created() {\n  },\n  mounted() {\n    var cookie = this.$cookie.getCookie();\n    if (cookie[0] != \"token\") {\n      this.$message({\n        message: '登录已过期!',\n        type: 'error'\n      });\n      this.$router.push({ name: 'login' });\n    }\n    else {\n      this.token = cookie[1];\n    }\n    this.selectAlbums();\n  },\n  methods: {\n    selectAlbums() {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      this.axios({\n        url: this.$serveUrL + \"/album/selectAlbumName\",\n        method: \"post\",\n        data: formData\n      }).then(function (resp) {\n        if (resp.data.status == \"success\") {\n          console.log(resp.data);\n          _this.albums = resp.data.data;\n        }\n        else {\n          1;\n        }\n      })\n    },\n    SubmitImage() {\n      console.log(this.$refs.upload.fileList)\n      if (this.fileList.length == 0) {\n        return this.$message.warning('请选取文件后再上传')\n      }\n\n      this.dialogTableVisible = true;\n      var _this = this;\n      // 下面的代码将创建一个空的FormData对象:\n      var formData = new FormData();\n\n      // 你可以使用FormData.append来添加键/值对到表单里面；\n      this.fileList.forEach((file) => {\n        formData.append('file', file.raw);\n      })\n      // 添加自定义参数，不传可删除 \n      formData.append('albumId', this.formdata.album.albumId);   //相册id\n      formData.append('albumName', this.formdata.album.albumName); //相册名字 \n      formData.append('resNumber', this.formdata.resNumber); //识别结果\n      formData.append('imgSite', this.formdata.imgSite); //拍摄地点\n      formData.append('imgDate', this.formdata.imgdate); //拍摄时间\n      formData.append('token', this.token);\n      this.loading = true;\n      this.axios({\n        url: this.$serveUrL + \"/image/uploadAI\",\n        method: \"post\",\n        data: formData,\n        headers: { 'Content-Type': 'multipart/form-data' },\n        onUploadProgress: function (progressEvent) {\n          if (progressEvent.lengthComputable) {\n            let progressPercent = parseInt((progressEvent.loaded / progressEvent.total) * 100)\n            if (progressPercent >= 85) {\n              progressPercent=85;\n            }\n            _this.progressText = '服务器正在识别上传 ' + progressPercent + '%';\n          }\n        },\n      }).then(function (resp) {\n        if (resp.data.status == \"success\") {\n          _this.$message({\n            type: 'success',\n            message: '上传图片成功!'\n          });\n          _this.tableData = resp.data.data;\n          _this.loading = false;\n        }\n        else {\n          _this.$message({\n            type: 'fail',\n            message: '上传图片失败!'\n          });\n        }\n      })\n    },\n    createAlbum() {\n      //将input内容赋给select，并关闭下拉菜单\n      this.formdata.album.albumName = this.inputAlbum;\n\n      this.formdata.album.albumId = 0;\n\n      this.$refs.formSelect.blur();\n    },\n    handleRemove(file, fileList) {\n      this.fileList = fileList;\n      console.log(file, fileList);\n    },\n    handleChange(file, fileList) {\n      this.fileList = fileList;\n      file;\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    }\n  }\n\n}\n</script>\n\n<style  scoped>\n.main {\n  height: 100%;\n  width: 100%;\n}\n\n#title {\n  text-align: center;\n  height: 5%;\n}\n\n#title h1 {\n  margin-top: 20px;\n  font-size: 20px;\n}\n\n.main-content {\n  height: 95%;\n  width: 100%;\n  position: relative;\n}\n\n.form {\n  width: 28%;\n  height: 70%;\n  margin-left: 2%;\n}\n\n.formItem {\n  width: 55%;\n}\n\n.images {\n\n  position: absolute;\n  left: 28%;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  /* margin-left:10% ; */\n  /* left,top,right,bottom都为0，充满真个页面 */\n  overflow-y: auto;\n  overflow-x: hidden;\n  height: 60%;\n  width: 72%;\n  /* border: 2px solid #5cb6ff; */\n}\n\n.u-button-main {\n  width: 100%;\n  height: 10%;\n}\n\n.u-button {\n\n  width: 100%;\n  height: 100%;\n}\n\n.u-button-son1 {\n  display: inline;\n  margin-left: 20%;\n\n}\n\n.u-button-son2 {\n  margin-left: 5%;\n  display: inline;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AIupload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AIupload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AIupload.vue?vue&type=template&id=b4e62d06&scoped=true\"\nimport script from \"./AIupload.vue?vue&type=script&lang=js\"\nexport * from \"./AIupload.vue?vue&type=script&lang=js\"\nimport style0 from \"./AIupload.vue?vue&type=style&index=0&id=b4e62d06&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b4e62d06\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AIupload.vue?vue&type=style&index=0&id=b4e62d06&prod&scoped=true&lang=css\""],"sourceRoot":""}