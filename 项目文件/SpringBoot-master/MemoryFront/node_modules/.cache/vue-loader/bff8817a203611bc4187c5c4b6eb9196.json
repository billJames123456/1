{"remainingRequest":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\src\\views\\upload.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\src\\views\\upload.vue","mtime":1662356225000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKCiAgICAgICAgICAgIHRva2VuOiAnMTExMScsCiAgICAgICAgICAgIGFsYnVtczogWwogICAgICAgICAgICBdLAogICAgICAgICAgICBpbnB1dEFsYnVtOiAnJywKICAgICAgICAgICAgZm9ybWRhdGE6IHsKICAgICAgICAgICAgICAgIC8vIOWAvOS4ui0x5pe25LiN5L2/55So55u45YaMCiAgICAgICAgICAgICAgICBhbGJ1bTogewogICAgICAgICAgICAgICAgICAgIGFsYnVtTmFtZTogJycsCiAgICAgICAgICAgICAgICAgICAgYWxidW1JZDogJy0xJwogICAgICAgICAgICAgICAgfSwvL+ebuOWGjOWQjeWtlwogICAgICAgICAgICAgICAgaW1nU2l0ZTogJycsLy/mi43mkYTlnLDngrkKICAgICAgICAgICAgICAgIGltZ3R5cGU6ICcnLC8v54Wn54mH57G75Z6LCiAgICAgICAgICAgICAgICBpbWdkYXRlOiAnJywvL+aLjeaRhOaXtumXtAogICAgICAgICAgICB9LAogICAgICAgICAgICBlbFByb2dyZXNzOiBmYWxzZSwKICAgICAgICAgICAgcHJvZ3Jlc3NUZXh0OiAn5q2j5Zyo5LiK5LygIDElJywKICAgICAgICAgICAgZmlsZUxpc3Q6IFtdLC8v5Zu+54mH5YiX6KGoCiAgICAgICAgICAgIGRpYWxvZ0ltYWdlVXJsOiAnJywKICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UKICAgICAgICB9OwogICAgfSwKICAgIHByb3BzOiBbJ3VzZXJwcm9wJ10sCiAgICAvLyDnm5HlkKzniLbnu4Tku7bnmoTlgLwKICAgIGNyZWF0ZWQoKSB7CgogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdmFyIGNvb2tpZSA9IHRoaXMuJGNvb2tpZS5nZXRDb29raWUoKTsKICAgICAgICBpZiAoY29va2llWzBdICE9ICJ0b2tlbiIpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn55m75b2V5bey6L+H5pyfIScsCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdsb2dpbicgfSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnRva2VuID0gY29va2llWzFdOwogICAgICAgIH0KICAgICAgICB0aGlzLnNlbGVjdEFsYnVtcygpOwogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIHNlbGVjdE1vZGVsOiB7CiAgICAgICAgICAgIGdldCgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtTmFtZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KGFsYnVtSW5kZXgpIHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybWRhdGEuYWxidW0uYWxidW1JZCA9IHRoaXMuYWxidW1zW2FsYnVtSW5kZXhdLmFsYnVtSWQ7CiAgICAgICAgICAgICAgICB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtTmFtZSA9IHRoaXMuYWxidW1zW2FsYnVtSW5kZXhdLmFsYnVtTmFtZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKCiAgICAgICAgc2VsZWN0QWxidW1zKCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rva2VuJywgdGhpcy50b2tlbik7CiAgICAgICAgICAgIHRoaXMuYXhpb3MoewogICAgICAgICAgICAgICAgdXJsOiB0aGlzLiRzZXJ2ZVVyTCArICIvYWxidW0vc2VsZWN0QWxidW1OYW1lIiwKICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5zdGF0dXMgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWxidW1zID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAxOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIFN1Ym1pdEltYWdlKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLnVwbG9hZC5maWxlTGlzdCkKICAgICAgICAgICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieWPluaWh+S7tuWQjuWGjeS4iuS8oCcpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgLy8g5LiL6Z2i55qE5Luj56CB5bCG5Yib5bu65LiA5Liq56m655qERm9ybURhdGHlr7nosaE6CiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgICAgICAgLy8g5L2g5Y+v5Lul5L2/55SoRm9ybURhdGEuYXBwZW5k5p2l5re75Yqg6ZSuL+WAvOWvueWIsOihqOWNlemHjOmdou+8mwogICAgICAgICAgICB0aGlzLmZpbGVMaXN0LmZvckVhY2goKGZpbGUpID0+IHsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUucmF3KTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy8g5re75Yqg6Ieq5a6a5LmJ5Y+C5pWw77yM5LiN5Lyg5Y+v5Yig6ZmkIAogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FsYnVtSWQnLCB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtSWQpOyAgIC8v55u45YaMaWQKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhbGJ1bU5hbWUnLCB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtTmFtZSk7IC8v55u45YaM5ZCN5a2XIAogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZ1NpdGUnLCB0aGlzLmZvcm1kYXRhLmltZ1NpdGUpOyAvL+aLjeaRhOWcsOeCuQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltZ1R5cGUnLCB0aGlzLmZvcm1kYXRhLmltZ3R5cGUpOy8v5Zu+54mH57G75Z6LCiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1nRGF0ZScsIHRoaXMuZm9ybWRhdGEuaW1nZGF0ZSk7IC8v5ouN5pGE5pe26Ze0CiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsKICAgICAgICAgICAgdGhpcy5lbFByb2dyZXNzID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMICsgIi9pbWFnZS91cGxvYWQiLAogICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyB9LAogICAgICAgICAgICAgICAgb25VcGxvYWRQcm9ncmVzczogZnVuY3Rpb24gKHByb2dyZXNzRXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NFdmVudC5sZW5ndGhDb21wdXRhYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc1BlcmNlbnQgPSBwYXJzZUludCgocHJvZ3Jlc3NFdmVudC5sb2FkZWQgLyBwcm9ncmVzc0V2ZW50LnRvdGFsKSAqIDEwMCkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzc1BlcmNlbnQgPT0gMTAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnQtLTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcm9ncmVzc1RleHQgPSAn5q2j5Zyo5LiK5LygICcgKyBwcm9ncmVzc1BlcmNlbnQgKyAnJSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgIF90aGlzLmVsUHJvZ3Jlc3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEuc3RhdHVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5Zu+54mH5oiQ5YqfIScKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5Zu+54mH5aSx6LSlIScKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pCgogICAgICAgIH0sCiAgICAgICAgY3JlYXRlQWxidW0oKSB7CiAgICAgICAgICAgIC8v5bCGaW5wdXTlhoXlrrnotYvnu5lzZWxlY3TvvIzlubblhbPpl63kuIvmi4noj5zljZUKICAgICAgICAgICAgdGhpcy5mb3JtZGF0YS5hbGJ1bS5hbGJ1bU5hbWUgPSB0aGlzLmlucHV0QWxidW07CgogICAgICAgICAgICB0aGlzLmZvcm1kYXRhLmFsYnVtLmFsYnVtSWQgPSAwOwoKICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtU2VsZWN0LmJsdXIoKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNoYW5nZShmaWxlLCBmaWxlTGlzdCkgewogICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICAgICAgICAgIGZpbGU7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgewogICAgICAgICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["upload.vue"],"names":[],"mappings":";AAwFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"upload.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"main\">\n        <div id=\"title\">\n            <h1>普通上传</h1>\n        </div>\n        <div class=\"main-content\">\n\n            <div class=\"form\">\n                <el-form :model=\"formdata\" ref=\"formdata\">\n                    <el-form-item label=\"上传相册\">\n                        <el-select v-model=\"selectModel\" placeholder=\"不创建相册，可不选择\" ref=\"formSelect\" class=\"formItem\">\n                            <el-option v-for=\"(item, index) in albums\" :key=\"index\" :label=\"item.albumName\"\n                                :value=\"index\">\n                                <span>{{ item.albumName }}</span>\n                            </el-option>\n                            <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\"\n                                size=\"small\">\n                            </el-input>\n                            <i class=\"el-icon-plus\" @click=\"createAlbum\"\n                                style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\n                            <div slot=\"empty\" style=\"margin:5px 0 5px 0\">\n                                <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\"\n                                    size=\"small\">\n                                </el-input>\n                                <i class=\"el-icon-plus\" @click=\"createAlbum\"\n                                    style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\n                            </div>\n                        </el-select>\n\n                    </el-form-item>\n                    <el-form-item label=\"图片类型\">\n                        <el-select v-model=\"formdata.imgtype\" placeholder=\"请选择图片类型\" class=\"formItem\">\n                            <el-option label=\"城市\" value=\"城市\"></el-option>\n                            <el-option label=\"人物\" value=\"人物\"></el-option>\n                            <el-option label=\"风景\" value=\"风景\"></el-option>\n                            <el-option label=\"动漫\" value=\"动漫\"></el-option>\n                            <el-option label=\"花草\" value=\"花草\"></el-option>\n                            <el-option label=\"文本\" value=\"文本\"></el-option>\n                            <el-option label=\"运动\" value=\"运动\"></el-option>\n                            <el-option label=\"游戏\" value=\"游戏\"></el-option>\n                            <el-option label=\"建筑\" value=\"建筑\"></el-option>\n                            <el-option label=\"截图\" value=\"截图\"></el-option>\n                            <el-option label=\"自拍\" value=\"自拍\"></el-option>\n                            <el-option label=\"动物\" value=\"动物\"></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"拍摄地点\">\n                        <el-input v-model=\"formdata.imgSite\" class=\"formItem\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"拍摄日期\">\n                        <el-col :span=\"11\" class=\"formItem\">\n                            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"formdata.imgdate\"\n                                value-format=\"yyyy-MM-dd\" style=\"width:100%\">\n                            </el-date-picker>\n                        </el-col>\n                    </el-form-item>\n                </el-form>\n            </div>\n\n            <div class=\"images\" v-loading=\"elProgress\" :element-loading-text=\"progressText\"\n                element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(255, 255, 255, 0.9)\">\n                <el-upload action=\"#\" ref=\"upload\" list-type=\"picture-card\" :on-preview=\"handlePictureCardPreview\"\n                    :on-remove=\"handleRemove\" :on-change=\"handleChange\" :auto-upload=\"false\" :multiple=\"true\"\n                    :file-list=\"fileList\">\n                    <i class=\"el-icon-plus\">\n                        <span style=\"font-size:20px;  vertical-align:1px;\">选择图片</span>\n                    </i>\n                </el-upload>\n                <el-dialog :visible.sync=\"dialogVisible\">\n                    <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n                </el-dialog>\n            </div>\n            <div class=\"u-button-main\">\n                <div class=\"u-button\">\n                    <div class=\"u-button-son1\">\n                        <el-button type=\"primary\" @click=\"SubmitImage\">全部上传</el-button>\n                        <div class=\"u-button-son2\">\n                            <el-button type=\"danger\">取消上传</el-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n\n            token: '1111',\n            albums: [\n            ],\n            inputAlbum: '',\n            formdata: {\n                // 值为-1时不使用相册\n                album: {\n                    albumName: '',\n                    albumId: '-1'\n                },//相册名字\n                imgSite: '',//拍摄地点\n                imgtype: '',//照片类型\n                imgdate: '',//拍摄时间\n            },\n            elProgress: false,\n            progressText: '正在上传 1%',\n            fileList: [],//图片列表\n            dialogImageUrl: '',\n            dialogVisible: false\n        };\n    },\n    props: ['userprop'],\n    // 监听父组件的值\n    created() {\n\n    },\n    mounted() {\n        var cookie = this.$cookie.getCookie();\n        if (cookie[0] != \"token\") {\n            this.$message({\n                message: '登录已过期!',\n                type: 'error'\n            });\n            this.$router.push({ name: 'login' });\n        }\n        else {\n            this.token = cookie[1];\n        }\n        this.selectAlbums();\n    },\n\n    computed: {\n        selectModel: {\n            get() {\n                return this.formdata.album.albumName;\n            },\n            set(albumIndex) {\n                this.formdata.album.albumId = this.albums[albumIndex].albumId;\n                this.formdata.album.albumName = this.albums[albumIndex].albumName;\n            }\n        }\n\n    },\n\n    methods: {\n\n        selectAlbums() {\n            var _this = this;\n            const formData = new FormData();\n            formData.append('token', this.token);\n            this.axios({\n                url: this.$serveUrL + \"/album/selectAlbumName\",\n                method: \"post\",\n                data: formData\n            }).then(function (resp) {\n                if (resp.data.status == \"success\") {\n                    _this.albums = resp.data.data;\n                }\n                else {\n                    1;\n                }\n\n            })\n        },\n        SubmitImage() {\n            console.log(this.$refs.upload.fileList)\n            if (this.fileList.length == 0) {\n                return this.$message.warning('请选取文件后再上传')\n            }\n            var _this = this;\n            // 下面的代码将创建一个空的FormData对象:\n            var formData = new FormData();\n\n            // 你可以使用FormData.append来添加键/值对到表单里面；\n            this.fileList.forEach((file) => {\n                formData.append('file', file.raw);\n            })\n            // 添加自定义参数，不传可删除 \n            formData.append('albumId', this.formdata.album.albumId);   //相册id\n            formData.append('albumName', this.formdata.album.albumName); //相册名字 \n            formData.append('imgSite', this.formdata.imgSite); //拍摄地点\n            formData.append('imgType', this.formdata.imgtype);//图片类型\n            formData.append('imgDate', this.formdata.imgdate); //拍摄时间\n            formData.append('token', this.token);\n            this.elProgress = true;\n            this.axios({\n                url: this.$serveUrL + \"/image/upload\",\n                method: \"post\",\n                data: formData,\n                headers: { 'Content-Type': 'multipart/form-data' },\n                onUploadProgress: function (progressEvent) {\n                    if (progressEvent.lengthComputable) {\n                        let progressPercent = parseInt((progressEvent.loaded / progressEvent.total) * 100)\n\n                        if (progressPercent == 100) {\n                            progressPercent--;\n                        }\n                        _this.progressText = '正在上传 ' + progressPercent + '%';\n                    }\n                },\n            }).then(function (resp) {\n                 _this.elProgress = false;\n                if (resp.data.status == \"success\") {\n                    _this.$message({\n                        type: 'success',\n                        message: '上传图片成功!'\n                    });\n                }\n                else {\n                    _this.$message({\n                        type: 'fail',\n                        message: '上传图片失败!'\n                    });\n                }\n\n            })\n\n        },\n        createAlbum() {\n            //将input内容赋给select，并关闭下拉菜单\n            this.formdata.album.albumName = this.inputAlbum;\n\n            this.formdata.album.albumId = 0;\n\n            this.$refs.formSelect.blur();\n        },\n        handleRemove(file, fileList) {\n            this.fileList = fileList;\n            console.log(file, fileList);\n        },\n        handleChange(file, fileList) {\n            this.fileList = fileList;\n            file;\n        },\n        handlePictureCardPreview(file) {\n            this.dialogImageUrl = file.url;\n            this.dialogVisible = true;\n        }\n    }\n}\n</script>\n<style scoped>\n.main {\n    height: 100%;\n    width: 100%;\n}\n\n#title {\n    text-align: center;\n    height: 5%;\n}\n\n#title h1 {\n    margin-top: 20px;\n    font-size: 20px;\n}\n\n.main-content {\n    height: 95%;\n    width: 100%;\n    position: relative;\n}\n\n.form {\n    width: 28%;\n    height: 70%;\n    margin-left: 2%;\n}\n\n.formItem {\n    width: 55%;\n}\n\n.images {\n\n    position: absolute;\n    left: 28%;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    /* margin-left:10% ; */\n    /* left,top,right,bottom都为0，充满真个页面 */\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: 60%;\n    width: 72%;\n    /* border: 2px solid #5cb6ff; */\n}\n\n.u-button-main {\n    width: 100%;\n    height: 10%;\n}\n\n.u-button {\n\n    width: 100%;\n    height: 100%;\n}\n\n.u-button-son1 {\n    display: inline;\n    margin-left: 20%;\n\n}\n\n.u-button-son2 {\n    margin-left: 5%;\n    display: inline;\n}\n</style>\n  "]}]}