{"remainingRequest":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\src\\views\\Record.vue?vue&type=style&index=0&id=4917ee8b&scoped=true&lang=css","dependencies":[{"path":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\src\\views\\Record.vue","mtime":1662356225000},{"path":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\大三上\\课程杂项\\web\\web打包\\项目文件\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgI21haW57CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICB3aWR0aDoxMDAlOwogIH0KLmJ1dHRvbiB7CiBwb3NpdGlvbjphYnNvbHV0ZTsKIHRvcDo5MCU7CiBsZWZ0OjQ1JTsKfQo="},{"version":3,"sources":["Record.vue"],"names":[],"mappings":";AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Record.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"main\">\n    <el-table :data=\"tableData\" style=\"width: 100%;\" height=\"500\"  >\n      <el-table-column prop=\"date\" label=\"日期\" >\n      </el-table-column>\n      <el-table-column prop=\"week\" label=\"星期\" >\n      </el-table-column>\n      <el-table-column prop=\"operation\" label=\"操作记录\" >\n      </el-table-column>\n      <el-table-column prop=\"number\" label=\"数量\" >\n      </el-table-column>\n      <el-table-column prop=\"ipv4\" label=\"Ip地址\">\n      </el-table-column>\n      <el-table-column prop=\"delete\" label=\"删除\" >\n        <template slot-scope=\"scope\">\n          <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" circle\n            @click=\"deleRecordById(tableData[scope.$index].id)\"></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-button class=\"button\" type=\"danger\" @click=\"deleteAllRecord\">清空所有记录</el-button>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'record',\n  data() {\n    return {\n      toekn:'',\n      tableData: [{\n        id:1,\n        date: '2016-05-03:18:00',\n        week: '星期一',\n        operation: '上传图片',\n        number: 12,\n        ipv4: '192.168.1.1',\n      },\n      ],\n     \n    }\n  },\n  mounted() {\n    var cookie = this.$cookie.getCookie();\n    if (cookie[0] != \"token\") {\n      this.$message({\n        message: '登录已过期!',\n        type: 'error'\n      });\n      this.$router.push({ name: 'login' });\n    }\n    else {\n      this.token = cookie[1];\n    }\n    \n    this.selectAllRecord();\n  },\n  methods: {\n    selectAllRecord() {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      this.axios({\n        url: this.$serveUrL+\"/record/selectAll\",\n        method: \"post\",\n        data: formData,\n      }).then(function (resp) {\n       if(resp.data.status=='success'){\n        _this.tableData = resp.data.data;\n       }\n      }\n      );\n    },\n    deleteAllRecord() {\n      this.$confirm('是否清空所有记录?', '删除所有记录', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n       var _this = this;\n        const formData = new FormData();\n       formData.append('token', this.token);\n        this.axios({\n          url: this.$serveUrL+\"/record/deleteAll\",\n          method: \"post\",\n          data: formData,\n        }).then(function (resp) {\n        \n          if(resp.data.status=='success'){ \n             _this.selectAllRecord();\n          _this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n        }\n        }\n        );\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    deleRecordById(id) {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      let Ids = Array(1);\n      Ids.push(id);\n      formData.append('Ids',Ids);\n      this.axios({\n        url: this.$serveUrL+\"/record/deleteById\",\n        method: \"post\",\n        data: formData,\n      }).then(function (resp) {\n        console.log(resp.data)\n        if(resp.data.status=='success'){\n          _this.selectAllRecord();\n          _this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n        }\n      }\n      );\n   \n    }\n  }\n}\n</script>\n<style scoped>\n  #main{\n    position: relative;\n    height: 100%;\n    width:100%;\n  }\n.button {\n position:absolute;\n top:90%;\n left:45%;\n}\n</style>"]}]}