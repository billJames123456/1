{"remainingRequest":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\src\\views\\Record.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\src\\views\\Record.vue","mtime":1662356225000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncmVjb3JkJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9la246JycsCiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICBpZDoxLAogICAgICAgIGRhdGU6ICcyMDE2LTA1LTAzOjE4OjAwJywKICAgICAgICB3ZWVrOiAn5pif5pyf5LiAJywKICAgICAgICBvcGVyYXRpb246ICfkuIrkvKDlm77niYcnLAogICAgICAgIG51bWJlcjogMTIsCiAgICAgICAgaXB2NDogJzE5Mi4xNjguMS4xJywKICAgICAgfSwKICAgICAgXSwKICAgICAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB2YXIgY29va2llID0gdGhpcy4kY29va2llLmdldENvb2tpZSgpOwogICAgaWYgKGNvb2tpZVswXSAhPSAidG9rZW4iKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlt7Lov4fmnJ8hJywKICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgIH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdsb2dpbicgfSk7CiAgICB9CiAgICBlbHNlIHsKICAgICAgdGhpcy50b2tlbiA9IGNvb2tpZVsxXTsKICAgIH0KICAgIAogICAgdGhpcy5zZWxlY3RBbGxSZWNvcmQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdEFsbFJlY29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd0b2tlbicsIHRoaXMudG9rZW4pOwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMKyIvcmVjb3JkL3NlbGVjdEFsbCIsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgZGF0YTogZm9ybURhdGEsCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgIGlmKHJlc3AuZGF0YS5zdGF0dXM9PSdzdWNjZXNzJyl7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICB9CiAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBkZWxldGVBbGxSZWNvcmQoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpua4heepuuaJgOacieiusOW9lT8nLCAn5Yig6Zmk5omA5pyJ6K6w5b2VJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Rva2VuJywgdGhpcy50b2tlbik7CiAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMKyIvcmVjb3JkL2RlbGV0ZUFsbCIsCiAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAKICAgICAgICAgIGlmKHJlc3AuZGF0YS5zdGF0dXM9PSdzdWNjZXNzJyl7IAogICAgICAgICAgICAgX3RoaXMuc2VsZWN0QWxsUmVjb3JkKCk7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgfQogICAgICAgICk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGVSZWNvcmRCeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsKICAgICAgbGV0IElkcyA9IEFycmF5KDEpOwogICAgICBJZHMucHVzaChpZCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnSWRzJyxJZHMpOwogICAgICB0aGlzLmF4aW9zKHsKICAgICAgICB1cmw6IHRoaXMuJHNlcnZlVXJMKyIvcmVjb3JkL2RlbGV0ZUJ5SWQiLAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhKQogICAgICAgIGlmKHJlc3AuZGF0YS5zdGF0dXM9PSdzdWNjZXNzJyl7CiAgICAgICAgICBfdGhpcy5zZWxlY3RBbGxSZWNvcmQoKTsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICApOwogICAKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Record.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Record.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"main\">\n    <el-table :data=\"tableData\" style=\"width: 100%;\" height=\"500\"  >\n      <el-table-column prop=\"date\" label=\"日期\" >\n      </el-table-column>\n      <el-table-column prop=\"week\" label=\"星期\" >\n      </el-table-column>\n      <el-table-column prop=\"operation\" label=\"操作记录\" >\n      </el-table-column>\n      <el-table-column prop=\"number\" label=\"数量\" >\n      </el-table-column>\n      <el-table-column prop=\"ipv4\" label=\"Ip地址\">\n      </el-table-column>\n      <el-table-column prop=\"delete\" label=\"删除\" >\n        <template slot-scope=\"scope\">\n          <el-button type=\"danger\" size=\"mini\" icon=\"el-icon-delete\" circle\n            @click=\"deleRecordById(tableData[scope.$index].id)\"></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-button class=\"button\" type=\"danger\" @click=\"deleteAllRecord\">清空所有记录</el-button>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'record',\n  data() {\n    return {\n      toekn:'',\n      tableData: [{\n        id:1,\n        date: '2016-05-03:18:00',\n        week: '星期一',\n        operation: '上传图片',\n        number: 12,\n        ipv4: '192.168.1.1',\n      },\n      ],\n     \n    }\n  },\n  mounted() {\n    var cookie = this.$cookie.getCookie();\n    if (cookie[0] != \"token\") {\n      this.$message({\n        message: '登录已过期!',\n        type: 'error'\n      });\n      this.$router.push({ name: 'login' });\n    }\n    else {\n      this.token = cookie[1];\n    }\n    \n    this.selectAllRecord();\n  },\n  methods: {\n    selectAllRecord() {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      this.axios({\n        url: this.$serveUrL+\"/record/selectAll\",\n        method: \"post\",\n        data: formData,\n      }).then(function (resp) {\n       if(resp.data.status=='success'){\n        _this.tableData = resp.data.data;\n       }\n      }\n      );\n    },\n    deleteAllRecord() {\n      this.$confirm('是否清空所有记录?', '删除所有记录', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n       var _this = this;\n        const formData = new FormData();\n       formData.append('token', this.token);\n        this.axios({\n          url: this.$serveUrL+\"/record/deleteAll\",\n          method: \"post\",\n          data: formData,\n        }).then(function (resp) {\n        \n          if(resp.data.status=='success'){ \n             _this.selectAllRecord();\n          _this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n        }\n        }\n        );\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    deleRecordById(id) {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      let Ids = Array(1);\n      Ids.push(id);\n      formData.append('Ids',Ids);\n      this.axios({\n        url: this.$serveUrL+\"/record/deleteById\",\n        method: \"post\",\n        data: formData,\n      }).then(function (resp) {\n        console.log(resp.data)\n        if(resp.data.status=='success'){\n          _this.selectAllRecord();\n          _this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n        }\n      }\n      );\n   \n    }\n  }\n}\n</script>\n<style scoped>\n  #main{\n    position: relative;\n    height: 100%;\n    width:100%;\n  }\n.button {\n position:absolute;\n top:90%;\n left:45%;\n}\n</style>"]}]}