{"remainingRequest":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\thread-loader\\dist\\cjs.js!D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js!D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\src\\views\\VisualdataType.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\src\\views\\VisualdataType.vue","mtime":1662356225000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\babel.config.js","mtime":1662356225000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\.babelrc","mtime":1662356225000},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719542185445},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1719542175240},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\babel-loader\\lib\\index.js","mtime":1719542186130},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719542185445},{"path":"D:\\源代码及项目\\生产实习\\Picture-Master\\SpringBoot-master\\MemoryFront\\node_modules\\vue-loader\\lib\\index.js","mtime":1719542174992}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaXN1YWxkYXRhJywKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0czogbnVsbCwKICAgICAgLy/lm77ooajlr7nosaEKICAgICAgdG9rZW46ICcnLAogICAgICAvL3Rva2Vu5Yet6K+BCiAgICAgIHJlc2l6ZVRpbWVyOiBudWxsLAogICAgICBzZXJ2ZVVyTDogdGhpcy4kc2VydmVVckwsCiAgICAgIHNjcmVlbldpZHRoOiAnJywKICAgICAgSW1hZ2VUeXBlOiBbLy9waWXooagKICAgICAgewogICAgICAgIHZhbHVlOiAxMDAsCiAgICAgICAgbmFtZTogJ+WKqOeJqScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAxMSwKICAgICAgICBuYW1lOiAn5qSN54mpJwogICAgICB9XQogICAgfTsKICB9LAoKICAvL+iwg+eUqAogIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7CiAgICAgIGlmICh0aGlzLnJlc2l6ZVRpbWVyKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpOwogICAgICB9CgogICAgICB0aGlzLnJlc2l6ZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5jaGFydHMucmVzaXplKCk7CiAgICAgIH0sIDUwMCk7CiAgICB9OwoKICAgIHZhciBjb29raWUgPSB0aGlzLiRjb29raWUuZ2V0Q29va2llKCk7CgogICAgaWYgKGNvb2tpZVswXSAhPSAidG9rZW4iKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlt7Lov4fmnJ8hJywKICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgIH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2xvZ2luJwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudG9rZW4gPSBjb29raWVbMV07CiAgICB9CgogICAgdGhpcy5zZWxlY3RJbWFnZUNvdW50KCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8g5LiL6L295Zu+54mHCiAgICBkb3dubG9hZEltYWdlKCkgewogICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICBsaW5rLmRvd25sb2FkID0gIuWbvueJh+exu+Wei+WIhuW4g+mlvOWbviI7CiAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgY29uc29sZS5sb2codGhpcy5jaGFydHMpOwogICAgICBsaW5rLmhyZWYgPSB0aGlzLmNoYXJ0cy5nZXREYXRhVVJMKHsKICAgICAgICB0eXBlOiAncG5nJywKICAgICAgICBwaXhlbFJhdGlvOiAxLjUsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZicKICAgICAgfSk7IC8vIOWvvOWHuuWbvuihqOWbvueJh++8jOi/lOWbnuS4gOS4qiBiYXNlNjQg55qEIFVSTAoKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgbGluay5jbGljaygpOwogICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7IC8v6YeK5pS+VVJM5a+56LGhCgogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgfSwKCiAgICAvL+afpeivouaJgOacieWbvueJh+exu+WeiwogICAgc2VsZWN0SW1hZ2VDb3VudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCB0aGlzLnRva2VuKTsKICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgdXJsOiBfdGhpcy5zZXJ2ZVVyTCArICIvdmlzdWFsL3NlbGVjdFR5cGVTaXRlIiwKICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICBkYXRhOiBmb3JtRGF0YQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMuSW1hZ2VUeXBlID0gcmVzcC5kYXRhLmRhdGEuaW1hZ2VUeXBlOwoKICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMuZHJhd1BpZSgnZWNoYXJ0Jyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBkcmF3UGllKGlkKSB7CiAgICAgIHRoaXMuY2hhcnRzID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSk7CiAgICAgIHRoaXMuY2hhcnRzLnNldE9wdGlvbih7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIGNvbG9yOiAncmVzJywKICAgICAgICAgIHRleHQ6ICflm77niYfnsbvlnovliIbluIPppbzlm74nLAogICAgICAgICAgc3VidGV4dDogJ+adpea6kOaVsOaNruW6kycsCiAgICAgICAgICBsZWZ0OiAnNTAlJwogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nCiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIG9yaWVudDogJ3ZlcnRpY2FsJywKICAgICAgICAgIGxlZnQ6ICdsZWZ0JwogICAgICAgIH0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ+aVsOaNruadpea6kCcsCiAgICAgICAgICB0eXBlOiAncGllJywKICAgICAgICAgIHJhZGl1czogJzYwJScsCiAgICAgICAgICBkYXRhOiB0aGlzLkltYWdlVHlwZSwKICAgICAgICAgIGxlZnQ6ICcyMCUnLAogICAgICAgICAgZW1waGFzaXM6IHsKICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMTAsCiAgICAgICAgICAgICAgc2hhZG93T2Zmc2V0WDogMCwKICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"AAeA;EACAA,kBADA;;EAEAC;IACA;MACAC,YADA;MACA;MACAC,SAFA;MAEA;MACAC,iBAHA;MAIAC,wBAJA;MAKAC,eALA;MAMAC;MACA;QACAC,UADA;QAEAR;MAFA,CADA,EAKA;QACAQ,SADA;QAEAR;MAFA,CALA;IANA;EAiBA,CApBA;;EAuBA;EACAS;IACAC;MACA;QACAC;MACA;;MACA;QACA;MACA,CAFA,EAEA,GAFA;IAGA,CAPA;;IASA;;IACA;MACA;QACAC,iBADA;QAEAC;MAFA;MAIA;QAAAb;MAAA;IACA,CANA,MAOA;MACA;IACA;;IACA;EAEA,CA/CA;;EAgDAc;IACA;IACAC;MACA;MACAC;MACAA;MACAC;MACAD;QACAH,WADA;QAEAK,eAFA;QAGAC;MAHA,GALA,CASA;;MACAC;MACAJ;MACAK,+BAZA,CAYA;;MACAD;IACA,CAhBA;;IAiBA;IACAE;MACA;;MACA;MACAC;MACA;QACAC,8CADA;QAEAC,cAFA;QAGAxB;MAHA,GAIAyB,IAJA,CAIA;QACAC;;QACAA;UACAA;QAEA,CAHA;MAKA,CAXA;IAYA,CAlCA;;IAoCAC;MACA;MACA;QACAC;UACAC,YADA;UAEAC,gBAFA;UAGAC,gBAHA;UAIAC;QAJA,CADA;QAOAC;UACAC;QADA,CAPA;QAUAC;UACAC,kBADA;UAEAJ;QAFA,CAVA;QAcAK,SACA;UACAtC,YADA;UAEAa,WAFA;UAGA0B,aAHA;UAIAtC,oBAJA;UAKAgC,WALA;UAOAO;YACAC;cACAC,cADA;cAEAC,gBAFA;cAGAC;YAHA;UADA;QAPA,CADA;MAdA;IAgCA;;EAtEA;AAhDA","names":["name","data","charts","token","resizeTimer","serveUrL","screenWidth","ImageType","value","mounted","window","clearTimeout","message","type","methods","downloadImage","link","console","pixelRatio","backgroundColor","document","URL","selectImageCount","formData","url","method","then","_this","drawPie","title","color","text","subtext","left","tooltip","trigger","legend","orient","series","radius","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor"],"sourceRoot":"src/views","sources":["VisualdataType.vue"],"sourcesContent":["<template>\n  <div id=\"v-main\">\n    <div id=\"v-title\">图片类型数据可视化</div>\n    <!--为echarts准备一个具备大小的容器dom-->\n    <div id=\"v-echart\">\n      <div id=\"echart\"></div>\n      <div class=\"button\">\n        <el-button type=\"primary\" @click=\"downloadImage()\">下载图表</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\n\nexport default {\n  name: 'Visualdata',\n  data() {\n    return {\n      charts: null,//图表对象\n      token: '',  //token凭证\n      resizeTimer: null,\n      serveUrL: this.$serveUrL,\n      screenWidth: '',\n      ImageType: [       //pie表\n        {\n          value: 100,\n          name: '动物'\n        },\n        {\n          value: 11,\n          name: '植物'\n        },\n      ],\n    }\n  },\n\n\n  //调用\n  mounted() {\n    window.onresize = () => {\n      if (this.resizeTimer) {\n        clearTimeout(this.resizeTimer)\n      }\n      this.resizeTimer = setTimeout(() => {\n        this.charts.resize();\n      }, 500)\n    };\n\n    var cookie = this.$cookie.getCookie();\n    if (cookie[0] != \"token\") {\n      this.$message({\n        message: '登录已过期!',\n        type: 'error'\n      });\n      this.$router.push({ name: 'login' });\n    }\n    else {\n      this.token = cookie[1];\n    }\n    this.selectImageCount();\n\n  },\n  methods: {\n    // 下载图片\n    downloadImage() {\n      const link = document.createElement('a');\n      link.download = \"图片类型分布饼图\";\n      link.style.display = 'none';\n      console.log(this.charts)\n      link.href = this.charts.getDataURL({\n        type: 'png',\n        pixelRatio: 1.5,\n        backgroundColor: '#fff'\n      }); // 导出图表图片，返回一个 base64 的 URL\n      document.body.appendChild(link);\n      link.click();\n      URL.revokeObjectURL(link.href); //释放URL对象\n      document.body.removeChild(link);\n    },\n    //查询所有图片类型\n    selectImageCount() {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      this.axios({\n        url: _this.serveUrL + \"/visual/selectTypeSite\",\n        method: \"post\",\n        data: formData,\n      }).then(function (resp) {\n        _this.ImageType = resp.data.data.imageType;\n        _this.$nextTick(function () {\n          _this.drawPie('echart');\n\n        });\n\n      });\n    },\n\n    drawPie(id) {\n      this.charts = this.$echarts.init(document.getElementById(id))\n      this.charts.setOption({\n        title: {\n          color: 'res',\n          text: '图片类型分布饼图',\n          subtext: '来源数据库',\n          left: '50%'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [\n          {\n            name: '数据来源',\n            type: 'pie',\n            radius: '60%',\n            data: this.ImageType,\n            left: '20%',\n\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      })\n    },\n\n\n\n  },\n\n}\n</script>\n<style scoped>\n#v-main {\n  width: 100%;\n  height: 90%;\n  position: relative;\n}\n\n#v-title {\n  margin-top: 1%;\n  margin-bottom: 2%;\n  text-align: center;\n  font-size: 25px;\n}\n\n#v-echart {\n  height: 90%;\n  width: 100%;\n  position: relative;\n}\n\n#echart {\n  position: absolute;\n  left: 3%;\n  height: 100%;\n  width: 80%;\n  display: inline-block;\n}\n\n.button {\n  position: absolute;\n  display: inline-block;\n  right: 5%;\n}\n</style>"]}]}