{"version":3,"sources":["webpack:///./src/components/InsideAlbum.vue?1cc9","webpack:///./src/components/InsideAlbum.vue","webpack:///src/components/InsideAlbum.vue","webpack:///./src/components/InsideAlbum.vue?147a","webpack:///./src/components/InsideAlbum.vue?3472","webpack:///./src/components/InsideAlbum.vue?c21b"],"names":["render","_vm","this","_c","_self","attrs","style","displayTopMenu","staticClass","on","$event","$router","push","name","_v","_s","currentAlbumName","displayCheckedMenu","staticStyle","handleCheckAllChange","checkedCount","checkedStatus","removeImage","downloadImage","setAlbumCover","empty1","_l","images","group","i","key","handleCheckPartChange","checkedPart","time","image","item","j","reactiveImage","handleCheckedImgChange","model","value","checkedImgIndex","callback","$$v","expression","serveUrL","compressUrL","getSrcList","slot","empty2","staticRenderFns","data","currentAlbumId","token","isRouterAlive","$serveUrL","imageId","imageName","previewImageUrL","checkAll","checkedImgId","isIndeterminate","dialogFormVisible","form","title","content","delivery","type","resource","desc","formLabelWidth","created","mounted","$route","query","albumId","albumName","cookie","$cookie","getCookie","$message","message","selectAllImage","methods","_this","formData","FormData","append","axios","url","method","then","resp","status","length","handleCheckIndexToId","console","log","$confirm","confirmButtonText","cancelButtonText","imgIndex","str","split","count","parseInt","imgUrl","imgName","downloadPicture","dialogTableVisible","imgSrc","fetch","res","blob","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","x","y","slice","concat","SwitchDisplay","len","Array","val","array","sort","component"],"mappings":"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","file":"js/chunk-ed0282cc.397dafb3.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsideAlbum.vue?vue&type=style&index=1&id=78d2ab2d&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"main\"}},[_c('div',{style:(_vm.displayTopMenu),attrs:{\"id\":\"album_top\"}},[_c('a',{staticClass:\"album-icon\",attrs:{\"title\":\"返回首页\"},on:{\"click\":function($event){return _vm.$router.push({ name: 'Album' });}}},[_c('svg-icon',{attrs:{\"icon-file-name\":\"home\"}})],1),_c('span',[_vm._v(_vm._s(_vm.currentAlbumName))])]),_c('div',{style:(_vm.displayCheckedMenu),attrs:{\"id\":\"albumCheck_menu\"}},[_c('div',{staticClass:\"check_menu_item\"},[_c('div'),_c('div',{staticClass:\"check_menu_txt\"},[_c('a',{staticStyle:{\"vertical-align\":\"middle\",\"margin-right\":\"1.5em\"},on:{\"click\":function($event){return _vm.handleCheckAllChange(false)}}},[_c('svg-icon',{attrs:{\"icon-file-name\":\"chacha\"}})],1),_vm._v(\"已选择\"+_vm._s(_vm.checkedCount)+\"张图片\")])]),_c('div',{staticClass:\"check_menu_feature\"},[_c('a',{attrs:{\"title\":\"全选图片\"},on:{\"click\":function($event){return _vm.handleCheckAllChange(!_vm.checkedStatus)}}},[_c('svg-icon',{attrs:{\"icon-file-name\":\"all\"}})],1),_c('a',{attrs:{\"title\":\"移除相册\"},on:{\"click\":function($event){return _vm.removeImage()}}},[_c('svg-icon',{attrs:{\"icon-file-name\":\"remove\"}})],1),_c('a',{attrs:{\"title\":\"下载图片\"},on:{\"click\":function($event){return _vm.downloadImage()}}},[_c('svg-icon',{attrs:{\"icon-file-name\":\"download\"}})],1),_c('a',{attrs:{\"title\":\"修改封面\"},on:{\"click\":function($event){return _vm.setAlbumCover()}}},[_c('svg-icon',{attrs:{\"icon-file-name\":\"set\"}})],1)])]),_c('el-divider'),_c('div',{style:(_vm.empty1),attrs:{\"id\":\"album-content\"}},[_c('div',{attrs:{\"id\":\"album-image-content\"}},_vm._l((_vm.images),function(group,i){return _c('div',{key:i,staticClass:\"album-image-group\"},[_c('div',{staticClass:\"album-image-time\"},[_c('el-checkbox',{staticClass:\"time-select\",style:(_vm.displayCheckedMenu),on:{\"change\":function($event){return _vm.handleCheckPartChange(i,_vm.checkedPart)}}}),_c('span',{staticClass:\"time-txt\"},[_vm._v(\" \"+_vm._s(group.time))])],1),_vm._l((group.image),function(item,j){return _c('div',{key:j,staticClass:\"image-item\",style:(_vm.reactiveImage)},[_c('el-checkbox-group',{staticClass:\"check-box\",style:(_vm.displayCheckedMenu),on:{\"change\":_vm.handleCheckedImgChange},model:{value:(_vm.checkedImgIndex),callback:function ($$v) {_vm.checkedImgIndex=$$v},expression:\"checkedImgIndex\"}},[_c('el-checkbox',{attrs:{\"label\":i + ',' + j}})],1),_c('el-image',{staticClass:\"image\",attrs:{\"src\":_vm.serveUrL + item.compressUrL,\"preview-src-list\":_vm.getSrcList(i, j),\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot\",staticStyle:{\"margin-top\":\"3em\"},attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('svg-icon',{staticStyle:{\"vertical-align\":\"-5px\"},attrs:{\"icon-file-name\":\"loading\"}}),_vm._v(\"加载中 \")],1)])],1)})],2)}),0)]),_c('div',{style:(_vm.empty2)},[_c('el-empty',{attrs:{\"image-size\":200,\"description\":\"暂无图片\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push({ name: 'upload' });}}},[_vm._v(\"去上传\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"main\">\n    <!-- 标题 -->\n    <div :style=\"displayTopMenu\" id=\"album_top\">\n      <a class=\"album-icon\" title=\"返回首页\" @click=\"$router.push({ name: 'Album' });\">\n        <svg-icon icon-file-name=\"home\" />\n      </a>\n      <span>{{ currentAlbumName }}</span>\n    </div>\n    <!-- 选中菜单 -->\n    <div id=\"albumCheck_menu\" :style=\"displayCheckedMenu\">\n      <div class=\"check_menu_item\">\n        <div> </div>\n        <div class=\"check_menu_txt\"><a style=\"vertical-align:middle;margin-right: 1.5em;\"\n            @click=\"handleCheckAllChange(false)\">\n            <svg-icon icon-file-name=\"chacha\" />\n          </a>已选择{{ checkedCount }}张图片</div>\n      </div>\n      <div class=\"check_menu_feature\">\n        <a title=\"全选图片\" @click=\"handleCheckAllChange(!checkedStatus)\">\n          <svg-icon icon-file-name=\"all\">\n          </svg-icon>\n        </a>\n        <a title=\"移除相册\" @click=\"removeImage()\">\n          <svg-icon icon-file-name=\"remove\" />\n        </a>\n        <a title=\"下载图片\" @click=\"downloadImage()\">\n          <svg-icon icon-file-name=\"download\" />\n        </a>\n        <a title=\"修改封面\" @click=\"setAlbumCover()\">\n          <svg-icon icon-file-name=\"set\" />\n        </a>\n      </div>\n    </div>\n    <el-divider></el-divider>\n    <!-- 图片区域 -->\n    <div id=\"album-content\" :style=\"empty1\">\n      <div id=\"album-image-content\">\n        <div v-for=\"(group, i) in images\" :key=\"i\" class=\"album-image-group\">\n\n          <div class=\"album-image-time\">\n            <el-checkbox :style=\"displayCheckedMenu\" class=\"time-select\"  @change=\"handleCheckPartChange(i,checkedPart)\">\n              </el-checkbox>\n            <span class=\"time-txt\"> {{ group.time }}</span>\n          </div>\n          \n          <div class=\"image-item\" :style=\"reactiveImage\" v-for=\"(item, j) in group.image\" :key=\"j\" >\n            <el-checkbox-group  v-model=\"checkedImgIndex\" @change=\"handleCheckedImgChange\" class=\"check-box\" :style=\"displayCheckedMenu\">\n              <el-checkbox :label=\"i + ',' + j\">\n              </el-checkbox>\n            </el-checkbox-group>\n            <!-- serveUrL + -->\n            <el-image :src=\"serveUrL + item.compressUrL\" :preview-src-list=\"getSrcList(i, j)\" class=\"image\" lazy>\n              <div slot=\"placeholder\" class=\"image-slot\" style=\"margin-top:3em\">\n                <svg-icon icon-file-name=\"loading\" style=\"vertical-align:-5px\">\n                </svg-icon>加载中\n              </div>\n            </el-image>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div :style=\"empty2\">\n      <el-empty :image-size=\"200\" description=\"暂无图片\">\n        <el-button type=\"primary\" @click=\"$router.push({ name: 'upload' });\">去上传</el-button>\n      </el-empty>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'InsideAlbum',\n  data() {\n    return {\n      currentAlbumId: 0,\n      currentAlbumName: '',\n      token: '',  //token凭证\n      isRouterAlive: true,\n      serveUrL: this.$serveUrL,\n      // 后端查询的图片数据\n      images: [\n        {\n          time: '2021年8月31日星期一',\n          image: [\n            {\n              imageId: '',\n              compressUrL: 'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg',\n              imageName: '',\n            },\n            {\n              imageId: '',\n              compressUrL: 'https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg',\n              imageName: '',\n            }\n          ]\n        }\n      ],\n      previewImageUrL: [\n        '',\n      ],\n      // 响应式布局图片大小css\n      reactiveImage: {\n        // margin: '0.3em',\n        // width: '15em',\n        // height: '20em',\n      },\n\n      //复选框\n      checkAll: false,       //是否全选\n      checkedImgIndex: [],   //图片索引数组\n      checkedImgId: [],      //图片id数组\n      isIndeterminate: false,\n\n      //用户勾选图片，菜单的显示与隐藏\n      checkedStatus: false,//是否全选\n      checkedPart:true,//是否 部分选\n      checkedCount: 0, //勾选数量\n      displayTopMenu: 'true', //显示\n      displayCheckedMenu: '',  //隐藏\n\n      empty1: 'display:block',\n      empty2: 'display:none',\n\n\n      // 相册信息修改\n      dialogFormVisible: false,\n      form: {\n        name: '',\n        title: '',\n        content: '',\n        delivery: false,\n        type: [],\n        resource: '',\n        desc: ''\n      },\n      formLabelWidth: '100px'\n    };\n  },\n  created() {\n\n  },\n\n  // 不是this.roueter!!!!!!!!!!!!!\n  mounted() {\n\n    this.currentAlbumId = this.$route.query.albumId;\n    this.currentAlbumName = this.$route.query.albumName;\n    var cookie = this.$cookie.getCookie();\n    if (cookie[0] != \"token\") {\n      this.$message({\n        message: '登录已过期!',\n        type: 'error'\n      });\n      this.$router.push({ name: 'login' });\n    }\n    else {\n      this.token = cookie[1];\n    }\n    this.selectAllImage();\n\n\n  },\n  methods: {\n\n    selectAllImage() {\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      formData.append('albumId', this.currentAlbumId);\n      this.axios({\n        url: this.$serveUrL + '/album/selectAllImage',\n        method: \"post\",\n        data: formData\n      }).then(function (resp) {\n        if (resp.data.status == \"success\") {\n          _this.images = resp.data.data.images;\n          _this.previewImageUrL = resp.data.data.previewImageUrL;\n          for (var i = 0; i < _this.previewImageUrL.length; i++) {\n            _this.previewImageUrL[i] = _this.serveUrL + _this.previewImageUrL[i]\n          }\n          _this.isRouterAlive = !_this.isRouterAlive;\n          //判断当前页面数据是否为空\n          if (_this.images.length < 1) {\n            _this.empty1 = 'display:none';\n            _this.empty2 = 'display:block';\n          }\n          else {\n            _this.empty1 = 'display:block';\n            _this.empty2 = 'display:none';\n          }\n        }\n      })\n\n    },\n    setAlbumCover() {\n      this.handleCheckIndexToId();\n      console.log(this.checkedImgId[0]);\n      if (this.checkedImgIndex.length > 1) {\n\n        this.$message({\n          message: '您只能选择一张图片作为相册封面',\n          type: 'warning'\n        });\n        return;\n      }\n      this.$confirm('是否将该图片设置为相册封面?', '设置相册封面', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n\n        var _this = this;\n        console.log(this.checkedImgId);\n        const formData = new FormData();\n        formData.append('token', this.token);\n        formData.append('albumId', this.currentAlbumId);\n        formData.append('imageId', this.checkedImgId[0]);\n        this.axios({\n          url: this.$serveUrL + \"/album/setAlbumCover\",\n          method: \"post\",\n          data: formData\n        }).then(function (resp) {\n          if (resp.data.status == \"success\") {\n            _this.$message({\n              message: '相册封面设置成功！',\n              type: 'success'\n            });\n            _this.handleCheckAllChange(false);\n            _this.selectAllImage();\n          }\n          else {\n            1;\n          }\n        })\n      })\n    },\n    removeImage() {\n      this.$confirm('此操作将移除相册集, 是否继续?', '移除相册', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.handleCheckIndexToId();\n        var _this = this;\n        console.log(this.checkedImgId);\n        const formData = new FormData();\n        formData.append('token', this.token);\n        formData.append('albumId', this.currentAlbumId);\n        formData.append('imageId', this.checkedImgId);\n        this.axios({\n          url: this.$serveUrL + \"/album/removeImageFromAlbum\",\n          method: \"post\",\n          data: formData\n        }).then(function (resp) {\n          if (resp.data.status == \"success\") {\n            _this.$message({\n              message: '图片移除成功！',\n              type: 'success'\n            });\n            _this.handleCheckAllChange(false);\n            _this.selectAllImage();\n          }\n          else {\n            1;\n          }\n        })\n      })\n    },\n    downloadImage() {\n      var imgIndex = this.checkedImgIndex;\n      var str = imgIndex[0].split(',');\n      var count = 0\n      for (let i = 0; i < str[0]; i++) {\n        for (let j = 0; j < this.images[i].image.length; j++) {\n          count++;\n        }\n      }\n      count += parseInt(str[1]);//在previewImageUrL的位置,根据选中index排序完的顺序下载\n      for (let i = 0; i < imgIndex.length; i++) {\n        str = imgIndex[i].split(',');\n        var imgUrl = this.previewImageUrL[count + i];\n        var imgName = this.images[str[0]].image[str[1]].imageName;\n        this.downloadPicture(imgUrl, imgName);\n      }\n      this.handleCheckIndexToId();\n      var _this = this;\n      const formData = new FormData();\n      formData.append('token', this.token);\n      formData.append('number', this.checkedImgId.length);\n      this.axios({\n        url: this.$serveUrL + \"/record/recordDownload\",\n        method: \"post\",\n        data: formData\n      }).then(function (resp) {\n        if (resp.data.status == \"success\") {\n          _this.$message({\n            message: '图片下载成功！',\n            type: 'success'\n          });\n          _this.dialogTableVisible = false;\n        }\n        else {\n          1;\n        }\n      })\n    },\n    downloadPicture(imgSrc, name) {\n      // 根据url下载\n      fetch(imgSrc).then((res) => {\n        res.blob().then((blob) => {\n          const url = window.URL.createObjectURL(blob)\n          const a = document.createElement('a')\n          a.href = url\n          a.download = name\n          a.click()\n          window.URL.revokeObjectURL(url)\n        })\n      })\n    },\n\n    // 其中大图预览目前总是从第一张开始,简单处理下,就是构建一个以当前图片为起始的数组\n    getSrcList(x, y) {\n      var count = 0;\n      for (var i = 0; i < x; i++) {\n        for (var j = 0; j < this.images[i].image.length; j++) {\n          count++;\n        }\n      }\n\n      return this.previewImageUrL.slice(count + y).concat(this.previewImageUrL.slice(0, count + y));\n    },\n    // 显示或隐藏顶部菜单和选中菜单\n    SwitchDisplay(checkedCount) {\n      if (checkedCount > 0) {\n        // 获取顶部菜单高度，使选中菜单保持一致\n        if (this.displayTopMenu != \"display:none;\" || this.displayTopMenu == '') {\n          this.displayCheckedMenu = 'display:block;'\n          this.displayTopMenu = 'display:none;'\n        }\n      }\n      else {\n        this.displayCheckedMenu = '';\n        this.displayTopMenu = '';\n      }\n    },\n    //部分选\n    handleCheckPartChange(x,status){\n      console.log(x,status);\n      if(status){\n        let len = this.images[x].image.length;\n        console.log(len);\n        this.checkedCount = len;\n        this.checkedImgIndex = new Array(len);\n        for(var i=0;i<len;i++){\n          this.checkedImgIndex[i] = x+','+i;\n        }\n      }\n      else {\n        this.checkedImgIndex = [];\n        this.checkedCount = 0;\n      }\n      this.isIndeterminate =false;\n      this.checkedPart = !this.checkedPart;\n      this.SwitchDisplay(this.checkedCount);\n      \n    },\n\n    //全选框\n    handleCheckAllChange(val) {\n      if (val) {\n        let len = this.images.length;\n        var count = 0;\n        for (var i = 0; i < len; i++) {\n          for (var j = 0; j < this.images[i].image.length; j++) {\n            count++;\n          }\n        }\n        this.checkedCount = count;\n\n        this.checkedImgIndex = new Array(count);\n        count = 0;\n        for (i = 0; i < len; i++) {\n          for (j = 0; j < this.images[i].image.length; j++) {\n            this.checkedImgIndex[count++] = i + ',' + j;\n          }\n        }\n      }\n      else {\n        this.checkedImgIndex = [];\n        this.checkedCount = 0;\n      }\n      this.isIndeterminate = false;\n      this.checkedStatus = val;\n      this.SwitchDisplay(this.checkedCount);\n    },\n    //根据选中的索引转化为图片的id\n    handleCheckIndexToId() {\n      let len = this.checkedImgIndex.length;\n      let array = [];\n      this.checkedImgId = new Array(len);\n      for (let i = 0; i < len; i++) {\n        let str = this.checkedImgIndex[i].split(',');\n        array.push(this.images[str[0]].image[str[1]].imageId);\n        console.log(array)\n\n      }\n      this.checkedImgId = array;\n    },\n    // 部分被选中,当勾选时，上方显示操作菜单\n    handleCheckedImgChange(value) {\n      this.checkedImgIndex.sort();\n\n      this.checkedCount = value.length;\n      this.SwitchDisplay(this.checkedCount);\n      this.checkAll = this.checkedCount === this.images.length;\n      this.isIndeterminate = this.checkedCount > 0 && this.checkedCount < this.images.length;\n    },\n\n\n\n  }\n\n}\n\n\n</script>\n\n<style scoped>\n/* 隐藏菜单 */\n#albumCheck_menu {\n  background-color: #3174ff;\n  height: 9%;\n  width: 100%;\n  display: none;\n  position: relative;\n}\n\n.check_menu_txt {\n  font-family: MiSans, MIUI, Helvetica Neue, Helvetica, Arial, PingFang SC, Microsoft Yahei, Hiragino Sans GB, Heiti SC, WenQuanYi Micro Hei, sans-serif;\n  color: #fff;\n  font-size: 1.35em;\n}\n\n.check_menu_item {\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 5%;\n  transform: translate(-5%, -50%);\n}\n\n.check_menu_feature {\n  right: 5%;\n  position: absolute;\n  top: 50%;\n  transform: translate(-5%, -50%);\n}\n\n.check_menu_feature a {\n  margin-right: 2em;\n  font-size: 1.35em;\n}\n\n/* css */\n#main {\n  height: 100%;\n  width: 100%;\n  overflow-x: hidden;\n}\n\n#album_top {\n  height: 9%;\n  width: 100%;\n  position: relative;\n  text-align: center;\n}\n\n.album-icon {\n  position: relative;\n  float: left;\n  left: 1%;\n  top: 20%;\n  width: 5%;\n  height: 80%;\n  font-size: 2em;\n}\n\n#album_top span {\n  position: absolute;\n  top: 22%;\n  text-align: center;\n  line-height: 1.5;\n  font-size: 2em;\n  color: rgba(34, 28, 28, 0.65);\n  font-family: MiSans, serif;\n}\n\n\n/*--图片区域--*/\n#album-content {\n  width: 95%;\n  margin-left: 5%;\n  margin-top: 1%;\n  height: 88%;\n  overflow: scroll;\n  overflow-x: hidden;\n}\n\n#album-image-content {\n  width: 100%;\n  height: 100%;\n \n}\n\n.album-image-group {\n  margin-top:15px ;\n} \n\n.album-image-time {\n  height:45px;\n  position: relative;\n  font-size: 1.5em;\n \n  display: block;\n}\n\n/* .album-image-time:hover+.check-box {\n  display: block;\n} */\n\n.time-select{\n  display: none;\n  position: absolute;\n  top:5px;\n}\n.time-txt{\n   position: absolute; \n  top:5px;\n  left:25px;\n  display: block;\n}\n\n\n.image-item {\n  margin-right: 10px;\n  position: relative;\n  display: flex;\n  display: inline-block;\n}\n.image {\n  height: 13em;\n}\n.check-box {\n  width: 100%;\n  margin: 5px;\n  display: none;\n  position: absolute;\n}\n\n.image-item:hover .check-box {\n  display: block;\n}\n\n\n</style>\n\n\n  <style>\n#app {\n  height: 100%;\n  width: 100%;\n}\n\n.el-checkbox__inner {\n  background-color: white;\n  opacity: 0.9;\n  border: #3174ff 1px solid;\n  border-radius: 100px;\n  width: 1.4em;\n  height: 1.4em;\n}\n\n.el-checkbox__inner::after {\n  height: 0.68em;\n  left: 0.42em;\n  width: 0.29em;\n}\n\n/* 增大点击区域，提高用户体验 */\n.el-checkbox__inner::before {\n  content: '';\n  position: absolute;\n  top: -0.625em;\n  right: -2.5em;\n  bottom: -1.875em;\n  left: -0.75em;\n}\n\n\n.el-divider {\n  margin: 0;\n}\n</style>\n\n <!-- <div :style=\"empty2\">\n      <el-empty :image-size=\"200\" ></el-empty>\n    </div> -->\n    <!-- <el-button type=\"text\" @click=\"dialogFormVisible = true\" style=\"\">\n      修改相册信息\n    </el-button>\n\n    <el-dialog title=\"修改相册信息\" :visible.sync=\"dialogFormVisible\" width=\"600px\">\n      <el-form :model=\"form\">\n        <el-form-item label=\"相册名称:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"相册标题:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.title\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"相册简介:\" :label-width=\"formLabelWidth\">\n          <el-input v-model=\"form.content\" autocomplete=\"off\" type=\"textarea\" placeholder=\"相册简介\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"updateAlbum\">保 存</el-button>\n      </div>\n    </el-dialog> -->","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsideAlbum.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsideAlbum.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InsideAlbum.vue?vue&type=template&id=78d2ab2d&scoped=true\"\nimport script from \"./InsideAlbum.vue?vue&type=script&lang=js\"\nexport * from \"./InsideAlbum.vue?vue&type=script&lang=js\"\nimport style0 from \"./InsideAlbum.vue?vue&type=style&index=0&id=78d2ab2d&prod&scoped=true&lang=css\"\nimport style1 from \"./InsideAlbum.vue?vue&type=style&index=1&id=78d2ab2d&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78d2ab2d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InsideAlbum.vue?vue&type=style&index=0&id=78d2ab2d&prod&scoped=true&lang=css\""],"sourceRoot":""}