(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b1cceed"],{"128f":function(e,t,s){"use strict";s("240a")},"240a":function(e,t,s){},"85e37":function(e,t,s){},"9e37":function(e,t,s){"use strict";s("85e37")},f0a4:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main"}},[t("div",{style:e.displayTopMenu,attrs:{id:"Recycle_Top"}},[t("span",{staticClass:"Recycle_title"},[e._v("回收站内容最多保留 30 天")])]),t("div",{style:e.displayCheckedMenu,attrs:{id:"RecycleCheck_menu"}},[t("div",{staticClass:"check_menu_item"},[t("div"),t("div",{staticClass:"check_menu_txt"},[t("a",{staticStyle:{"vertical-align":"middle","margin-right":"1.5em"},on:{click:function(t){return e.handleCheckAllChange(!1)}}},[t("svg-icon",{attrs:{"icon-file-name":"chacha"}})],1),e._v("已选择"+e._s(e.checkedCount)+"张图片")])]),t("div",{staticClass:"check_menu_feature"},[t("a",{attrs:{title:"全选图片"},on:{click:function(t){return e.handleCheckAllChange(!e.checkedStatus)}}},[t("svg-icon",{attrs:{"icon-file-name":"all"}})],1),t("a",{attrs:{title:"恢复图片"},on:{click:function(t){return e.recoverImage()}}},[t("svg-icon",{attrs:{"icon-file-name":"recover"}})],1),t("a",{attrs:{title:"彻底删除"},on:{click:function(t){return e.deleteImage()}}},[t("svg-icon",{attrs:{"icon-file-name":"delete"}})],1)])]),t("div",{style:e.empty1,attrs:{id:"Recycle_Image-content"}},e._l(e.images,(function(s,i){return t("div",{key:i,staticClass:"image-item",style:e.reactiveImage},[t("el-checkbox-group",{staticClass:"check-box",style:e.displayCheckedMenu,on:{change:e.handleCheckedImgChange},model:{value:e.checkedImgIndex,callback:function(t){e.checkedImgIndex=t},expression:"checkedImgIndex"}},[t("el-checkbox",{attrs:{label:i}})],1),t("el-image",{staticClass:"image",attrs:{src:e.serveUrL+s.compressUrL,"preview-src-list":e.getSrcList(i)}},[t("div",{staticClass:"image-slot",staticStyle:{"margin-top":"3em"},attrs:{slot:"placeholder"},slot:"placeholder"},[t("svg-icon",{staticStyle:{"vertical-align":"-5px"},attrs:{"icon-file-name":"loading"}}),e._v("加载中 ")],1)]),t("div",{staticClass:"image-recycle-time"},[t("span",[e._v(e._s(s.day)+"天")])])],1)})),0),t("div",{style:e.empty2},[t("el-empty",{attrs:{"image-size":200}})],1)])},a=[],c=(s("14d9"),{name:"Recycle",data(){return{empty1:"display:block",empty2:"display:none",token:"",isRouterAlive:!0,serveUrL:this.$serveUrL,images:[],previewImageUrL:[""],reactiveImage:{margin:"0.5em",width:"9%",height:"22%"},checkAll:!1,checkedImgIndex:[],checkedImgId:[],isIndeterminate:!1,checkedStatus:!1,checkedCount:0,displayTopMenu:"true",displayCheckedMenu:""}},created(){},mounted(){var e=this.$cookie.getCookie();"token"!=e[0]?(this.$message({message:"登录已过期!",type:"error"}),this.$router.push({name:"login"})):this.token=e[1],this.selectAllImage()},methods:{getSrcList(e){return this.previewImageUrL.slice(e).concat(this.previewImageUrL.slice(0,e))},SwitchDisplay(e){e>0?"display:none;"==this.displayTopMenu&&""!=this.displayTopMenu||(this.displayCheckedMenu="display:block",this.displayTopMenu="display:none;"):(this.displayCheckedMenu="",this.displayTopMenu="")},recoverImage(){this.$confirm("此操作将恢复图片, 是否继续?","恢复图片",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(()=>{this.handleCheckIndexToId();var e=this;const t=new FormData;t.append("token",this.token),t.append("imageId",this.checkedImgId),this.axios({url:this.$serveUrL+"/recycle/recoverImage",method:"post",data:t}).then((function(t){"success"==t.data.status&&(e.$message({message:"图片恢复成功！",type:"success"}),e.selectAllImage())}))})},deleteImage(){this.$confirm("将彻底删除图片,无法恢复。是否继续?","彻底删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.handleCheckIndexToId();var e=this;const t=new FormData;t.append("token",this.token),t.append("imageId",this.checkedImgId),this.axios({url:this.$serveUrL+"/recycle/deleteImage",method:"post",data:t}).then((function(t){"success"==t.data.status&&(e.$message({message:"图片删除成功！",type:"success"}),e.handleCheckAllChange(!1),e.selectAllImage())}))})},selectAllImage(){var e=this;const t=new FormData;t.append("token",this.token),this.axios({url:this.$serveUrL+"/recycle/selectAll",method:"post",data:t}).then((function(t){if("success"==t.data.status){e.images=t.data.data.images,e.previewImageUrL=t.data.data.previewImageUrL;for(var s=0;s<e.previewImageUrL.length;s++)e.previewImageUrL[s]=e.serveUrL+e.previewImageUrL[s];console.log(e.images.length),e.images.length<1?(e.empty1="display:none",e.empty2="display:block"):(e.empty1="display:block",e.empty2="display:none"),e.isRouterAlive=!e.isRouterAlive}}))},handleCheckAllChange(e){if(e){let e=this.images.length;this.checkedCount=e,this.checkedImgIndex=new Array(e);for(var t=0;t<e;t++)this.checkedImgIndex[t]=t}else this.checkedImgIndex=[],this.checkedCount=0;this.isIndeterminate=!1,this.checkedStatus=e,this.SwitchDisplay(this.checkedCount)},handleCheckIndexToId(){let e=this.checkedImgIndex.length;this.checkedImgId=new Array(e);for(let t=0;t<e;t++)this.checkedImgId[t]=this.images[this.checkedImgIndex[t]].imageId},handleCheckedImgChange(e){this.checkedCount=e.length,this.SwitchDisplay(this.checkedCount),this.checkAll=this.checkedCount===this.images.length,this.isIndeterminate=this.checkedCount>0&&this.checkedCount<this.images.length}}}),n=c,l=(s("128f"),s("9e37"),s("2877")),h=Object(l["a"])(n,i,a,!1,null,"b8d8fb70",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2b1cceed.e3e7619e.js.map