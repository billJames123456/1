{"version":3,"sources":["webpack:///./src/views/upload.vue","webpack:///src/views/upload.vue","webpack:///./src/views/upload.vue?3f62","webpack:///./src/views/upload.vue?6a79","webpack:///./src/views/upload.vue?faf7"],"names":["render","_vm","this","_c","_self","staticClass","_m","ref","attrs","formdata","model","value","selectModel","callback","$$v","expression","_l","albums","item","index","key","albumName","_v","_s","staticStyle","inputAlbum","on","createAlbum","slot","imgtype","$set","imgSite","imgdate","directives","name","rawName","elProgress","progressText","handlePictureCardPreview","handleRemove","handleChange","fileList","dialogVisible","$event","dialogImageUrl","SubmitImage","staticRenderFns","data","token","album","albumId","props","created","mounted","cookie","$cookie","getCookie","$message","message","type","$router","push","selectAlbums","computed","get","set","albumIndex","methods","_this","formData","FormData","append","axios","url","$serveUrL","method","then","resp","status","console","log","$refs","upload","length","warning","forEach","file","raw","headers","onUploadProgress","progressEvent","lengthComputable","progressPercent","parseInt","loaded","total","formSelect","blur","component"],"mappings":"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","file":"js/chunk-78d10942.7ae7ed73.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_vm._m(0),_c('div',{staticClass:\"main-content\"},[_c('div',{staticClass:\"form\"},[_c('el-form',{ref:\"formdata\",attrs:{\"model\":_vm.formdata}},[_c('el-form-item',{attrs:{\"label\":\"上传相册\"}},[_c('el-select',{ref:\"formSelect\",staticClass:\"formItem\",attrs:{\"placeholder\":\"不创建相册，可不选择\"},model:{value:(_vm.selectModel),callback:function ($$v) {_vm.selectModel=$$v},expression:\"selectModel\"}},[_vm._l((_vm.albums),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.albumName,\"value\":index}},[_c('span',[_vm._v(_vm._s(item.albumName))])])}),_c('el-input',{staticStyle:{\"margin-left\":\"3%\",\"width\":\"70%\"},attrs:{\"placeholder\":\"没有请创建相册\",\"size\":\"small\"},model:{value:(_vm.inputAlbum),callback:function ($$v) {_vm.inputAlbum=$$v},expression:\"inputAlbum\"}}),_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-left\":\"10%\",\"color\":\"#5cb6ff\",\"font-weight\":\"800\",\"font-size\":\"1.25em\"},on:{\"click\":_vm.createAlbum}}),_c('div',{staticStyle:{\"margin\":\"5px 0 5px 0\"},attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_c('el-input',{staticStyle:{\"margin-left\":\"3%\",\"width\":\"70%\"},attrs:{\"placeholder\":\"没有请创建相册\",\"size\":\"small\"},model:{value:(_vm.inputAlbum),callback:function ($$v) {_vm.inputAlbum=$$v},expression:\"inputAlbum\"}}),_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"margin-left\":\"10%\",\"color\":\"#5cb6ff\",\"font-weight\":\"800\",\"font-size\":\"1.25em\"},on:{\"click\":_vm.createAlbum}})],1)],2)],1),_c('el-form-item',{attrs:{\"label\":\"图片类型\"}},[_c('el-select',{staticClass:\"formItem\",attrs:{\"placeholder\":\"请选择图片类型\"},model:{value:(_vm.formdata.imgtype),callback:function ($$v) {_vm.$set(_vm.formdata, \"imgtype\", $$v)},expression:\"formdata.imgtype\"}},[_c('el-option',{attrs:{\"label\":\"城市\",\"value\":\"城市\"}}),_c('el-option',{attrs:{\"label\":\"人物\",\"value\":\"人物\"}}),_c('el-option',{attrs:{\"label\":\"风景\",\"value\":\"风景\"}}),_c('el-option',{attrs:{\"label\":\"动漫\",\"value\":\"动漫\"}}),_c('el-option',{attrs:{\"label\":\"花草\",\"value\":\"花草\"}}),_c('el-option',{attrs:{\"label\":\"文本\",\"value\":\"文本\"}}),_c('el-option',{attrs:{\"label\":\"运动\",\"value\":\"运动\"}}),_c('el-option',{attrs:{\"label\":\"游戏\",\"value\":\"游戏\"}}),_c('el-option',{attrs:{\"label\":\"建筑\",\"value\":\"建筑\"}}),_c('el-option',{attrs:{\"label\":\"截图\",\"value\":\"截图\"}}),_c('el-option',{attrs:{\"label\":\"自拍\",\"value\":\"自拍\"}}),_c('el-option',{attrs:{\"label\":\"动物\",\"value\":\"动物\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"拍摄地点\"}},[_c('el-input',{staticClass:\"formItem\",model:{value:(_vm.formdata.imgSite),callback:function ($$v) {_vm.$set(_vm.formdata, \"imgSite\", $$v)},expression:\"formdata.imgSite\"}})],1),_c('el-form-item',{attrs:{\"label\":\"拍摄日期\"}},[_c('el-col',{staticClass:\"formItem\",attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.formdata.imgdate),callback:function ($$v) {_vm.$set(_vm.formdata, \"imgdate\", $$v)},expression:\"formdata.imgdate\"}})],1)],1)],1)],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.elProgress),expression:\"elProgress\"}],staticClass:\"images\",attrs:{\"element-loading-text\":_vm.progressText,\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(255, 255, 255, 0.9)\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":\"#\",\"list-type\":\"picture-card\",\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"on-change\":_vm.handleChange,\"auto-upload\":false,\"multiple\":true,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-plus\"},[_c('span',{staticStyle:{\"font-size\":\"20px\",\"vertical-align\":\"1px\"}},[_vm._v(\"选择图片\")])])]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"u-button-main\"},[_c('div',{staticClass:\"u-button\"},[_c('div',{staticClass:\"u-button-son1\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.SubmitImage}},[_vm._v(\"全部上传\")]),_c('div',{staticClass:\"u-button-son2\"},[_c('el-button',{attrs:{\"type\":\"danger\"}},[_vm._v(\"取消上传\")])],1)],1)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"title\"}},[_c('h1',[_vm._v(\"普通上传\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"main\">\n        <div id=\"title\">\n            <h1>普通上传</h1>\n        </div>\n        <div class=\"main-content\">\n\n            <div class=\"form\">\n                <el-form :model=\"formdata\" ref=\"formdata\">\n                    <el-form-item label=\"上传相册\">\n                        <el-select v-model=\"selectModel\" placeholder=\"不创建相册，可不选择\" ref=\"formSelect\" class=\"formItem\">\n                            <el-option v-for=\"(item, index) in albums\" :key=\"index\" :label=\"item.albumName\"\n                                :value=\"index\">\n                                <span>{{ item.albumName }}</span>\n                            </el-option>\n                            <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\"\n                                size=\"small\">\n                            </el-input>\n                            <i class=\"el-icon-plus\" @click=\"createAlbum\"\n                                style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\n                            <div slot=\"empty\" style=\"margin:5px 0 5px 0\">\n                                <el-input v-model=\"inputAlbum\" placeholder=\"没有请创建相册\" style=\"margin-left:3%;width:70%\"\n                                    size=\"small\">\n                                </el-input>\n                                <i class=\"el-icon-plus\" @click=\"createAlbum\"\n                                    style=\"margin-left:10%;color:#5cb6ff;font-weight:800;font-size:1.25em;\"></i>\n                            </div>\n                        </el-select>\n\n                    </el-form-item>\n                    <el-form-item label=\"图片类型\">\n                        <el-select v-model=\"formdata.imgtype\" placeholder=\"请选择图片类型\" class=\"formItem\">\n                            <el-option label=\"城市\" value=\"城市\"></el-option>\n                            <el-option label=\"人物\" value=\"人物\"></el-option>\n                            <el-option label=\"风景\" value=\"风景\"></el-option>\n                            <el-option label=\"动漫\" value=\"动漫\"></el-option>\n                            <el-option label=\"花草\" value=\"花草\"></el-option>\n                            <el-option label=\"文本\" value=\"文本\"></el-option>\n                            <el-option label=\"运动\" value=\"运动\"></el-option>\n                            <el-option label=\"游戏\" value=\"游戏\"></el-option>\n                            <el-option label=\"建筑\" value=\"建筑\"></el-option>\n                            <el-option label=\"截图\" value=\"截图\"></el-option>\n                            <el-option label=\"自拍\" value=\"自拍\"></el-option>\n                            <el-option label=\"动物\" value=\"动物\"></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"拍摄地点\">\n                        <el-input v-model=\"formdata.imgSite\" class=\"formItem\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"拍摄日期\">\n                        <el-col :span=\"11\" class=\"formItem\">\n                            <el-date-picker type=\"date\" placeholder=\"选择日期\" v-model=\"formdata.imgdate\"\n                                value-format=\"yyyy-MM-dd\" style=\"width:100%\">\n                            </el-date-picker>\n                        </el-col>\n                    </el-form-item>\n                </el-form>\n            </div>\n\n            <div class=\"images\" v-loading=\"elProgress\" :element-loading-text=\"progressText\"\n                element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(255, 255, 255, 0.9)\">\n                <el-upload action=\"#\" ref=\"upload\" list-type=\"picture-card\" :on-preview=\"handlePictureCardPreview\"\n                    :on-remove=\"handleRemove\" :on-change=\"handleChange\" :auto-upload=\"false\" :multiple=\"true\"\n                    :file-list=\"fileList\">\n                    <i class=\"el-icon-plus\">\n                        <span style=\"font-size:20px;  vertical-align:1px;\">选择图片</span>\n                    </i>\n                </el-upload>\n                <el-dialog :visible.sync=\"dialogVisible\">\n                    <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n                </el-dialog>\n            </div>\n            <div class=\"u-button-main\">\n                <div class=\"u-button\">\n                    <div class=\"u-button-son1\">\n                        <el-button type=\"primary\" @click=\"SubmitImage\">全部上传</el-button>\n                        <div class=\"u-button-son2\">\n                            <el-button type=\"danger\">取消上传</el-button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n\n            token: '1111',\n            albums: [\n            ],\n            inputAlbum: '',\n            formdata: {\n                // 值为-1时不使用相册\n                album: {\n                    albumName: '',\n                    albumId: '-1'\n                },//相册名字\n                imgSite: '',//拍摄地点\n                imgtype: '',//照片类型\n                imgdate: '',//拍摄时间\n            },\n            elProgress: false,\n            progressText: '正在上传 1%',\n            fileList: [],//图片列表\n            dialogImageUrl: '',\n            dialogVisible: false\n        };\n    },\n    props: ['userprop'],\n    // 监听父组件的值\n    created() {\n\n    },\n    mounted() {\n        var cookie = this.$cookie.getCookie();\n        if (cookie[0] != \"token\") {\n            this.$message({\n                message: '登录已过期!',\n                type: 'error'\n            });\n            this.$router.push({ name: 'login' });\n        }\n        else {\n            this.token = cookie[1];\n        }\n        this.selectAlbums();\n    },\n\n    computed: {\n        selectModel: {\n            get() {\n                return this.formdata.album.albumName;\n            },\n            set(albumIndex) {\n                this.formdata.album.albumId = this.albums[albumIndex].albumId;\n                this.formdata.album.albumName = this.albums[albumIndex].albumName;\n            }\n        }\n\n    },\n\n    methods: {\n\n        selectAlbums() {\n            var _this = this;\n            const formData = new FormData();\n            formData.append('token', this.token);\n            this.axios({\n                url: this.$serveUrL + \"/album/selectAlbumName\",\n                method: \"post\",\n                data: formData\n            }).then(function (resp) {\n                if (resp.data.status == \"success\") {\n                    _this.albums = resp.data.data;\n                }\n                else {\n                    1;\n                }\n\n            })\n        },\n        SubmitImage() {\n            console.log(this.$refs.upload.fileList)\n            if (this.fileList.length == 0) {\n                return this.$message.warning('请选取文件后再上传')\n            }\n            var _this = this;\n            // 下面的代码将创建一个空的FormData对象:\n            var formData = new FormData();\n\n            // 你可以使用FormData.append来添加键/值对到表单里面；\n            this.fileList.forEach((file) => {\n                formData.append('file', file.raw);\n            })\n            // 添加自定义参数，不传可删除 \n            formData.append('albumId', this.formdata.album.albumId);   //相册id\n            formData.append('albumName', this.formdata.album.albumName); //相册名字 \n            formData.append('imgSite', this.formdata.imgSite); //拍摄地点\n            formData.append('imgType', this.formdata.imgtype);//图片类型\n            formData.append('imgDate', this.formdata.imgdate); //拍摄时间\n            formData.append('token', this.token);\n            this.elProgress = true;\n            this.axios({\n                url: this.$serveUrL + \"/image/upload\",\n                method: \"post\",\n                data: formData,\n                headers: { 'Content-Type': 'multipart/form-data' },\n                onUploadProgress: function (progressEvent) {\n                    if (progressEvent.lengthComputable) {\n                        let progressPercent = parseInt((progressEvent.loaded / progressEvent.total) * 100)\n\n                        if (progressPercent == 100) {\n                            progressPercent--;\n                        }\n                        _this.progressText = '正在上传 ' + progressPercent + '%';\n                    }\n                },\n            }).then(function (resp) {\n                 _this.elProgress = false;\n                if (resp.data.status == \"success\") {\n                    _this.$message({\n                        type: 'success',\n                        message: '上传图片成功!'\n                    });\n                }\n                else {\n                    _this.$message({\n                        type: 'fail',\n                        message: '上传图片失败!'\n                    });\n                }\n\n            })\n\n        },\n        createAlbum() {\n            //将input内容赋给select，并关闭下拉菜单\n            this.formdata.album.albumName = this.inputAlbum;\n\n            this.formdata.album.albumId = 0;\n\n            this.$refs.formSelect.blur();\n        },\n        handleRemove(file, fileList) {\n            this.fileList = fileList;\n            console.log(file, fileList);\n        },\n        handleChange(file, fileList) {\n            this.fileList = fileList;\n            file;\n        },\n        handlePictureCardPreview(file) {\n            this.dialogImageUrl = file.url;\n            this.dialogVisible = true;\n        }\n    }\n}\n</script>\n<style scoped>\n.main {\n    height: 100%;\n    width: 100%;\n}\n\n#title {\n    text-align: center;\n    height: 5%;\n}\n\n#title h1 {\n    margin-top: 20px;\n    font-size: 20px;\n}\n\n.main-content {\n    height: 95%;\n    width: 100%;\n    position: relative;\n}\n\n.form {\n    width: 28%;\n    height: 70%;\n    margin-left: 2%;\n}\n\n.formItem {\n    width: 55%;\n}\n\n.images {\n\n    position: absolute;\n    left: 28%;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    /* margin-left:10% ; */\n    /* left,top,right,bottom都为0，充满真个页面 */\n    overflow-y: auto;\n    overflow-x: hidden;\n    height: 60%;\n    width: 72%;\n    /* border: 2px solid #5cb6ff; */\n}\n\n.u-button-main {\n    width: 100%;\n    height: 10%;\n}\n\n.u-button {\n\n    width: 100%;\n    height: 100%;\n}\n\n.u-button-son1 {\n    display: inline;\n    margin-left: 20%;\n\n}\n\n.u-button-son2 {\n    margin-left: 5%;\n    display: inline;\n}\n</style>\n  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=6566ede8&scoped=true\"\nimport script from \"./upload.vue?vue&type=script&lang=js\"\nexport * from \"./upload.vue?vue&type=script&lang=js\"\nimport style0 from \"./upload.vue?vue&type=style&index=0&id=6566ede8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6566ede8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=style&index=0&id=6566ede8&prod&scoped=true&lang=css\""],"sourceRoot":""}