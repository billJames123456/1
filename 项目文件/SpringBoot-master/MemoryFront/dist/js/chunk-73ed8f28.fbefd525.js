(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73ed8f28"],{"43ef":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"main"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"500"}},[t("el-table-column",{attrs:{prop:"date",label:"日期"}}),t("el-table-column",{attrs:{prop:"week",label:"星期"}}),t("el-table-column",{attrs:{prop:"operation",label:"操作记录"}}),t("el-table-column",{attrs:{prop:"number",label:"数量"}}),t("el-table-column",{attrs:{prop:"ipv4",label:"Ip地址"}}),t("el-table-column",{attrs:{prop:"delete",label:"删除"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleRecordById(e.tableData[a.$index].id)}}})]}}])})],1),t("el-button",{staticClass:"button",attrs:{type:"danger"},on:{click:e.deleteAllRecord}},[e._v("清空所有记录")])],1)},o=[],l=(a("14d9"),{name:"record",data(){return{toekn:"",tableData:[{id:1,date:"2016-05-03:18:00",week:"星期一",operation:"上传图片",number:12,ipv4:"192.168.1.1"}]}},mounted(){var e=this.$cookie.getCookie();"token"!=e[0]?(this.$message({message:"登录已过期!",type:"error"}),this.$router.push({name:"login"})):this.token=e[1],this.selectAllRecord()},methods:{selectAllRecord(){var e=this;const t=new FormData;t.append("token",this.token),this.axios({url:this.$serveUrL+"/record/selectAll",method:"post",data:t}).then((function(t){"success"==t.data.status&&(e.tableData=t.data.data)}))},deleteAllRecord(){this.$confirm("是否清空所有记录?","删除所有记录",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{var e=this;const t=new FormData;t.append("token",this.token),this.axios({url:this.$serveUrL+"/record/deleteAll",method:"post",data:t}).then((function(t){"success"==t.data.status&&(e.selectAllRecord(),e.$message({type:"success",message:"删除成功!"}))}))}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},deleRecordById(e){var t=this;const a=new FormData;a.append("token",this.token);let s=Array(1);s.push(e),a.append("Ids",s),this.axios({url:this.$serveUrL+"/record/deleteById",method:"post",data:a}).then((function(e){console.log(e.data),"success"==e.data.status&&(t.selectAllRecord(),t.$message({type:"success",message:"删除成功!"}))}))}}}),n=l,r=(a("ed2e"),a("2877")),c=Object(r["a"])(n,s,o,!1,null,"3a73c698",null);t["default"]=c.exports},b348:function(e,t,a){},ed2e:function(e,t,a){"use strict";a("b348")}}]);
//# sourceMappingURL=chunk-73ed8f28.fbefd525.js.map