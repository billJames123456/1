(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66e69c65"],{"2fb1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"mid-content"},[t("h1",[e._v("资料修改")]),t("div",{staticClass:"mid-form"},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"邮箱："}},[t("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),t("el-form-item",{attrs:{label:"电话："}},[t("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"性别："}},[t("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-radio",{attrs:{label:"男"}},[e._v("男")]),t("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),t("el-form-item",{attrs:{label:"城市："}},[t("el-select",{attrs:{placeholder:"请选择城市位置"},model:{value:e.form.resion,callback:function(t){e.$set(e.form,"resion",t)},expression:"form.resion"}},[t("el-option",{attrs:{label:"陕西-安康",value:"陕西,安康"}}),t("el-option",{attrs:{label:"陕西-西安",value:"陕西,西安"}}),t("el-option",{attrs:{label:"陕西-汉中",value:"陕西,汉中"}}),t("el-option",{attrs:{label:"陕西-宝鸡",value:"陕西,宝鸡"}}),t("el-option",{attrs:{label:"陕西-商洛",value:"陕西,商洛"}}),t("el-option",{attrs:{label:"陕西-延安",value:"陕西,延安"}}),t("el-option",{attrs:{label:"陕西-榆林",value:"陕西,榆林"}}),t("el-option",{attrs:{label:"陕西-铜川",value:"陕西,铜川"}})],1)],1),t("el-form-item",{attrs:{label:"生日："}},[t("el-col",{attrs:{span:11}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1)],1),t("div",{staticClass:"mid-button"},[t("el-button",{staticClass:"mid-button-son",attrs:{type:"primary",plain:""},on:{click:e.SubmitImage}},[e._v("保存并修改个人信息")])],1)]),t("div",{staticClass:"right-Avatar"},[t("h1",[e._v("用户头像")]),t("div",{staticClass:"right-Avatar0"},[t("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:this.$serveUrL+"/user/updateAvatar",data:e.upData,"show-file-list":!0,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("a-avatar",{attrs:{size:160,src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1)],1)])])},o=[],l=(a("14d9"),{name:"UserSet",data(){return{token:"",imageUrl:"",form:{date:"",resion:"",email:"",phone:"",sex:""}}},computed:{upData(){return{token:this.token}}},mounted(){var e=this.$cookie.getCookie();"token"!=e[0]?(this.$message({message:"登录已过期!",type:"error"}),this.$router.push({name:"login"})):this.token=e[1]},methods:{SubmitImage(){var e=this;const t=new FormData;t.append("token",this.token),t.append("email",this.form.email),t.append("phone",this.form.phone),t.append("city",this.form.resion),t.append("birthday",this.form.date),t.append("sex",this.form.sex),this.axios({url:e.$serveUrL+"/user/updateUser",method:"post",data:t}).then((function(t){"success"==t.data.status&&e.$message.success("用户信息更改成功！")}))},handleAvatarSuccess(e,t){"success"==e.status&&this.$message.success("更换头像成功！"),this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}}),r=l,i=(a("62be"),a("2877")),n=Object(i["a"])(r,s,o,!1,null,null,null);t["default"]=n.exports},"62be":function(e,t,a){"use strict";a("7203")},7203:function(e,t,a){}}]);
//# sourceMappingURL=chunk-66e69c65.0736cce8.js.map